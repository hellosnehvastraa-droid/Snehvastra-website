<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Snehvastra — NFC Story</title>
  <meta name="description" content="Scan your Snehvastra garment to unlock authenticity, artisan story, rarity, and collector certification."/>
  <meta name="theme-color" content="#3A0F5A" />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Clash+Display:wght@500;600;700&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --purple:#3A0F5A; --deep:#2a0a3f; --slate:#1F2024; --muted:#7d7f82;
      --glass: rgba(255,255,255,0.88); --radius:16px; --maxw:1180px; --ease: .36s;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:"Poppins",sans-serif;
      background: linear-gradient(180deg,#f8f7f9,#f2f2f4);
      color:var(--slate);
      padding:28px 18px;
    }

    .wrap{max-width:var(--maxw);margin:0 auto;display:grid;grid-template-columns:1fr 420px;gap:28px}
    @media(max-width:980px){ .wrap{grid-template-columns:1fr} }

    header{
      grid-column:1/-1;display:flex;align-items:center;justify-content:space-between;
      background: var(--glass);border-radius:12px;padding:12px 18px;
      border:1px solid rgba(47,18,66,0.04);
      box-shadow:0 8px 30px rgba(58,15,90,0.04)
    }
    .brand{display:flex;align-items:center;gap:12px}
    .brand img{height:46px;cursor:pointer}
    nav a{color:var(--muted);text-decoration:none;margin-left:14px;font-weight:600}
    nav a.active{color:var(--purple)}

    .stage{background:#fff;border-radius:18px;padding:28px;border:1px solid rgba(47,18,66,0.05);box-shadow:0 30px 100px rgba(58,15,90,0.06)}
    .intro{height:420px;border-radius:14px;display:flex;align-items:center;justify-content:center}

    .garment-3d{
      width:320px;height:360px;border-radius:20px;background:#fff;
      display:flex;align-items:center;justify-content:center;
      box-shadow:0 18px 60px rgba(46,18,68,0.12);
      cursor:pointer
    }
    .garment-3d img{width:86%;border-radius:12px}

    .story{margin-top:24px}
    .story h2{font-family:"Clash Display",serif;color:var(--purple)}
    .meta-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin:12px 0}
    .chip{background:#fff;border-radius:12px;padding:12px;border:1px solid rgba(47,18,66,0.05);text-align:center}

    .timeline{margin-top:18px}
    .step{display:flex;gap:10px;margin-bottom:10px}
    .dot{width:10px;height:10px;border-radius:50%;background:var(--purple);margin-top:6px}

    .panel{background:#fff;border-radius:18px;padding:20px;border:1px solid rgba(47,18,66,0.05);box-shadow:0 20px 60px rgba(58,15,90,0.06)}

    .register-btn{
      width:100%;padding:12px;border-radius:12px;border:none;
      background:linear-gradient(135deg,var(--purple),#2e0b4a);
      color:#fff;font-weight:800;cursor:pointer;margin-top:10px;
      font-family:'Clash Display',serif
    }

    footer{text-align:center;color:var(--muted);margin-top:24px}
  </style>
</head>
<body>

<div class="wrap">

  <header>
    <div class="brand">
      <img src="images/logo.final.png" alt="Snehvastra" onclick="location.href='index.html'">
      <strong>Snehvastra • Garment Story</strong>
    </div>
    <nav>
      <a href="index.html">Home</a>
      <a href="collection.html">Collection</a>
      <a href="nfc-story.html" class="active">NFC Story</a>
    </nav>
  </header>

  <section class="stage">
    <div class="intro" onclick="unlock()">
      <div class="garment-3d">
        <img id="garmentImage" src="images/placeholder-garment.jpg">
      </div>
    </div>

    <div class="story" id="story" style="display:none">
      <h2 id="title"></h2>
      <p id="desc"></p>

      <div class="meta-grid">
        <div class="chip"><div id="artisan"></div><small>Artisan</small></div>
        <div class="chip"><div id="hours"></div><small>Hours</small></div>
        <div class="chip"><div id="rarity"></div><small>Rarity</small></div>
      </div>

      <div class="timeline" id="timeline"></div>
    </div>
  </section>

  <aside class="panel">
    <h3>Authenticity Certificate</h3>
    <div><strong>ID:</strong> <span id="cid"></span></div>
    <div><strong>Batch:</strong> <span id="cbatch"></span></div>
    <div><strong>Weave:</strong> <span id="cweave"></span></div>

    <button class="register-btn" onclick="downloadCert()">Download Certificate</button>
    <button class="register-btn" onclick="share()">Share on WhatsApp</button>
    <button class="register-btn" onclick="location.href='auction.html'">Go to Auction</button>
  </aside>

  <footer>© <span id="year"></span> Snehvastra</footer>

</div>

<script>
const GARMENT={
  id:"SV-ONE-1825",
  title:"Snehvastra ONE — Loom Edition",
  desc:"Handloom crafted by Shyamji over 27 hours using natural dye.",
  artisan:"Shyamji",
  hours:"27",
  rarity:"1/1",
  batch:"ONE-001",
  weave:"Handloom",
  image:"images/blog/loom-1825.jpg",
  timeline:["Thread Prep","Loom Setup","Weaving","Natural Dye","Finishing"]
};

document.getElementById("year").textContent=new Date().getFullYear();

function unlock(){
  document.getElementById("story").style.display="block";
  document.getElementById("title").textContent=GARMENT.title;
  document.getElementById("desc").textContent=GARMENT.desc;
  document.getElementById("artisan").textContent=GARMENT.artisan;
  document.getElementById("hours").textContent=GARMENT.hours+" hrs";
  document.getElementById("rarity").textContent=GARMENT.rarity;
  document.getElementById("cid").textContent=GARMENT.id;
  document.getElementById("cbatch").textContent=GARMENT.batch;
  document.getElementById("cweave").textContent=GARMENT.weave;
  document.getElementById("garmentImage").src=GARMENT.image;

  let t=document.getElementById("timeline"); t.innerHTML="";
  GARMENT.timeline.forEach(s=>{
    let d=document.createElement("div");
    d.className="step";
    d.innerHTML=`<div class="dot"></div><div>${s}</div>`;
    t.appendChild(d);
  });
}

function downloadCert(){
  const text=`SNEHVASTRA CERTIFICATE\nID: ${GARMENT.id}\nArtisan: ${GARMENT.artisan}`;
  const blob=new Blob([text],{type:"text/plain"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download=GARMENT.id+".txt";
  a.click();
}

function share(){
  window.open("https://wa.me/917597152209?text="+encodeURIComponent(GARMENT.title));
}
</script>

</body>
</html>
