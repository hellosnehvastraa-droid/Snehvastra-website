<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <meta name="theme-color" content="#2C1B4A"/>
  <title>Join Snehvastra ‚Äî Kota Drops Access</title>
  <meta name="description" content="Join 12K+ Kota collectors. Exclusive drops. AI styling. NFC-secured."/>

  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Clash+Display:wght@400;500;600;700;900&family=Poppins:wght@200;300;400;500;600;700&display=swap" rel="stylesheet"/>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet"/>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

  <style>
    :root{
      /* üîí SNEHVASTRA GENTLE LUXURY SYSTEM (REGISTER ONBOARD) */
      --amethyst:#2C1B4A; --amethyst-light:#4A377A; --amethyst-glow:#6B5ACF;
      --pearl:#F8F6F9; --ivory:#EDE8F5; --silk:#D9D2E9;
      --rose-gold:#E8B4B8; --rose-gold-dark:#D4A5AF; --sage:#A8B5A2;
      --success:#10B981; --error:#EF4444; --warning:#F59E0B;
      --shadow-soft:0 clamp(25px, 8vw, 35px) clamp(80px, 20vw, 140px) rgba(44,27,74,0.15); 
      --shadow-glow:0 0 clamp(20px, 5vw, 35px) rgba(107,90,207,0.2);
      --radius:clamp(20px, 5vw, 32px); --max-width:clamp(420px, 92vw, 500px); --ease:cubic-bezier(0.32,0.72,0,1);
    }
    *{box-sizing:border-box;margin:0;padding:0;}
    body{font-family:'Poppins',sans-serif;background:linear-gradient(135deg,#F8F6F9 0%,#EDE8F5 50%,#D9D2E9 100%);color:var(--amethyst);min-height:100vh;position:relative;overflow-x:hidden;line-height:1.8;}

    /* üîí MOBILE LOCK HEADER - 60px FIXED */
    header{position:fixed;top:0;left:0;right:0;z-index:1000;height:clamp(56px, 15vw, 60px);background:linear-gradient(180deg,rgba(248,246,249,0.98),rgba(237,232,245,0.95));backdrop-filter:blur(40px);border-bottom:1px solid rgba(44,27,74,0.08);padding:clamp(8px, 2vw, 12px) 0;}
    .header-container{max-width:var(--max-width);margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:0 clamp(20px, 5vw, 24px);height:100%;}
    .brand{display:flex;gap:clamp(12px, 3vw, 20px);align-items:center;cursor:pointer;transition:all 0.4s var(--ease);}
    .brand:hover{transform:translateY(-2px);}
    .logo{height:clamp(40px, 11vw, 52px);border-radius:clamp(12px, 3vw, 20px);box-shadow:0 clamp(12px, 3vw, 20px) clamp(32px, 8vw, 60px) rgba(44,27,74,0.12);}
    nav ul{display:flex;gap:clamp(8px, 2vw, 12px);list-style:none;margin:0;padding:0;flex-wrap:wrap;}
    nav a{padding:clamp(12px, 3vw, 16px) clamp(20px, 5vw, 28px);border-radius:clamp(16px, 4vw, 24px);font-weight:500;color:var(--amethyst);text-decoration:none;font-size:clamp(0.875rem, 2.2vw, 0.95rem);backdrop-filter:blur(20px);transition:all 0.4s var(--ease);position:relative;white-space:nowrap;min-height:clamp(44px, 11vw, 64px);display:flex;align-items:center;}
    nav a::after{content:'';position:absolute;bottom:clamp(2px, 0.8vw, 4px);left:50%;width:0;height:2px;background:var(--rose-gold);transition:all 0.4s var(--ease);transform:translateX(-50%);}
    nav a:hover::after{width:80%;}
    nav a.active{color:var(--amethyst);font-weight:600;background:rgba(232,180,184,0.15);box-shadow:0 clamp(6px, 1.5vw, 8px) clamp(20px, 5vw, 32px) rgba(232,180,184,0.15);}

    .hamburger{display:none;background:none;border:none;font-size:clamp(1.75rem, 4.5vw, 2rem);color:var(--amethyst);cursor:pointer;padding:clamp(12px, 3vw, 16px);min-height:clamp(44px, 11vw, 64px);}
    
    @media(max-width:900px){
      .hamburger{display:block!important;}
      nav{display:none;}
      header.menu-open nav{display:block!important;position:absolute;top:100%;left:0;right:0;background:var(--pearl);backdrop-filter:blur(40px);border-top:1px solid rgba(44,27,74,0.08);padding:clamp(16px, 4vw, 20px) 0;overflow-y:auto;max-height:60vh;}
      header.menu-open nav ul{flex-direction:column;width:100%;gap:clamp(6px, 1.5vw, 8px);}
      nav a{display:block;text-align:center;width:100%;padding:clamp(20px, 5vw, 24px);border-radius:clamp(12px, 3vw, 16px);min-height:clamp(60px, 15vw, 72px);}
    }

    /* ‚úÖ MOBILE LOCK AUCTION BANNER (top:68px) */
    .auction-banner{position:fixed;top:clamp(68px, 18vw, 80px);right:clamp(16px, 4vw, 30px);z-index:900;max-width:clamp(220px, 28vw, 280px);background:linear-gradient(135deg,var(--rose-gold),var(--rose-gold-dark));color:var(--amethyst);padding:clamp(16px, 4vw, 24px) clamp(20px, 5vw, 32px);border-radius:clamp(20px, 5vw, 28px);font-family:'Clash Display',serif;font-weight:700;font-size:clamp(0.95rem, 2.5vw, 1.2rem);text-align:center;box-shadow:var(--shadow-soft);border:1px solid rgba(44,27,74,0.08);line-height:1.3;}
    .auction-timer{display:block;margin-top:clamp(6px, 1.5vw, 8px);background:rgba(255,255,255,0.9);border-radius:clamp(12px, 3vw, 16px);padding:clamp(6px, 1.5vw, 8px) clamp(10px, 2.5vw, 12px);font-weight:600;}
    @media(max-width:480px){.auction-banner{right:clamp(12px, 3vw, 16px);}}

    /* üéâ MOBILE LOCK ONBOARDING */
    .onboarding{position:relative;height:clamp(320px, 55vw, 400px);display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;overflow:hidden;padding:0 clamp(20px, 5vw, 40px);margin:clamp(68px, 18vw, 100px) auto clamp(32px, 8vw, 40px);max-width:var(--max-width);}
    @media(max-width:768px){.onboarding{margin:clamp(80px, 20vw, 100px) auto clamp(24px, 6vw, 20px);}}
    .hero-bg{position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(44,27,74,0.04),rgba(44,27,74,0.02));border-radius:clamp(28px, 7vw, 32px);}
    .hero-visual{position:relative;z-index:2;max-width:clamp(200px, 42vw, 280px);margin:0 auto clamp(12px, 3.5vw, 24px);}
    .hero-visual svg{width:100%;height:clamp(180px, 38vw, 280px);filter:drop-shadow(0 clamp(16px, 4vw, 20px) clamp(48px, 12vw, 60px) rgba(44,27,74,0.15));}
    .collector-count{font-family:'Clash Display',serif;font-size:clamp(1.8rem, 5.5vw, 3.8rem);background:linear-gradient(135deg,var(--amethyst),var(--amethyst-glow));-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0 0 clamp(6px, 2vw, 12px);font-weight:900;line-height:1;letter-spacing:clamp(-1px, -0.3vw, -1.5px);}
    .collector-label{color:var(--amethyst);opacity:0.8;font-size:clamp(0.9rem, 2.6vw, 1.1rem);font-weight:600;}

    /* üì± MOBILE LOCK FORM CONTAINER */
    .form-container{max-width:var(--max-width);margin:0 auto clamp(40px, 10vw, 60px);padding:0 clamp(20px, 5vw, 24px);}
    @media(max-width:768px){.form-container{padding:0 clamp(16px, 4vw, 20px);}}

    .page-title{font-family:'Clash Display',serif;font-size:clamp(1.8rem, 5.5vw, 3.5rem);background:linear-gradient(135deg,var(--amethyst),var(--amethyst-glow));-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0 0 clamp(10px, 3vw, 16px);text-align:center;line-height:1.1;font-weight:900;letter-spacing:clamp(-1px, -0.3vw, -1.5px);}
    .page-subtitle{color:var(--amethyst);opacity:0.8;font-size:clamp(0.9rem, 2.6vw, 1.05rem);line-height:1.7;text-align:center;max-width:clamp(380px, 90vw, 420px);margin:0 auto clamp(32px, 8vw, 60px);}

    /* üîê MOBILE LOCK FORM CARD */
    .form-card{background:var(--pearl);border-radius:var(--radius);padding:clamp(32px, 8vw, 60px) clamp(28px, 7vw, 48px);box-shadow:var(--shadow-soft);border:1px solid rgba(44,27,74,0.08);position:relative;overflow:hidden;}
    @media(max-width:480px){.form-card{padding:clamp(28px, 7vw, 32px) clamp(20px, 5vw, 24px);border-radius:clamp(20px, 5vw, 24px);}}
    .form-card::before{content:'';position:absolute;top:0;left:0;right:0;height:clamp(3px, 0.8vw, 4px);background:linear-gradient(90deg,var(--amethyst),var(--amethyst-light),var(--amethyst));}

    .form-group{position:relative;margin-bottom:clamp(20px, 5vw, 32px);}
    .form-group label{display:block;margin-bottom:clamp(8px, 2vw, 12px);font-weight:600;color:var(--amethyst);font-size:clamp(0.85rem, 2.4vw, 0.95rem);}
    .form-group input{width:100%;padding:clamp(14px, 3.5vw, 20px) clamp(18px, 4.5vw, 24px);border:2px solid rgba(44,27,74,0.1);border-radius:clamp(16px, 4vw, 20px);font-size:clamp(0.9rem, 2.6vw, 1rem);font-family:'Poppins',sans-serif;background:var(--pearl);backdrop-filter:blur(10px);transition:all 0.4s var(--ease);color:var(--amethyst);}
    .form-group input:focus{outline:none;border-color:var(--amethyst);box-shadow:0 0 0 clamp(5px, 1.2vw, 6px) rgba(44,27,74,0.08),var(--shadow-glow);}
    .form-group input.valid{border-color:var(--success);}
    .form-group input.invalid{border-color:var(--error);}

    .char-counter{position:absolute;right:clamp(18px, 4.5vw, 20px);bottom:clamp(10px, 2.5vw, 16px);font-size:clamp(0.75rem, 2.2vw, 0.85rem);color:var(--amethyst);opacity:0.6;font-weight:500;}
    .password-strength{position:absolute;left:clamp(18px, 4.5vw, 20px);bottom:clamp(10px, 2.5vw, 16px);font-size:clamp(0.7rem, 2.1vw, 0.8rem);font-weight:600;}
    .strength-weak{color:var(--error);}.strength-medium{color:var(--warning);}.strength-strong{color:var(--success);}

    .password-container{position:relative;}
    .password-toggle{position:absolute;right:clamp(18px, 4.5vw, 20px);top:50%;transform:translateY(-50%);background:none;border:none;font-size:clamp(1rem, 2.8vw, 1.3rem);cursor:pointer;color:var(--amethyst);opacity:0.7;transition:all 0.4s var(--ease);}
    .password-toggle:hover{color:var(--amethyst);opacity:1;transform:translateY(-50%) scale(1.1);}

    /* üîó MOBILE LOCK SOCIAL */
    .social-auth{display:flex;gap:clamp(10px, 2.5vw, 12px);margin:clamp(20px, 5vw, 32px) 0;flex-wrap:wrap;}
    @media(max-width:520px){.social-auth{flex-direction:column;}}
    .social-btn{flex:1;padding:clamp(14px, 3.5vw, 16px) clamp(18px, 4.5vw, 24px);border-radius:clamp(16px, 4vw, 20px);font-weight:700;border:none;cursor:pointer;transition:all 0.4s var(--ease);display:flex;align-items:center;justify-content:center;gap:clamp(8px, 2vw, 10px);font-size:clamp(0.85rem, 2.4vw, 0.95rem);min-height:clamp(52px, 13vw, 60px);}
    .google{background:var(--pearl);border:2px solid rgba(44,27,74,0.15);color:var(--amethyst);box-shadow:0 clamp(8px, 2vw, 10px) clamp(20px, 5vw, 24px) rgba(0,0,0,0.1);}
    .apple{background:var(--amethyst);color:var(--pearl);border:2px solid var(--amethyst);}
    .social-btn:hover{transform:translateY(-2px);box-shadow:0 clamp(12px, 3vw, 16px) clamp(28px, 7vw, 40px) rgba(0,0,0,0.15);}

    .terms-group{display:flex;align-items:flex-start;gap:clamp(10px, 2.5vw, 12px);margin:clamp(28px, 7vw, 40px) 0 clamp(32px, 8vw, 48px);font-size:clamp(0.85rem, 2.4vw, 0.95rem);color:var(--amethyst);opacity:0.8;}
    .terms-group input{width:auto;margin:clamp(3px, 1vw, 6px) 0 0;flex-shrink:0;accent-color:var(--amethyst);}
    .terms-group label{margin:0;font-weight:500;cursor:pointer;line-height:1.6;}
    .terms-link{color:var(--rose-gold);text-decoration:none;font-weight:600;transition:color 0.3s ease;}
    .terms-link:hover{color:var(--amethyst);}

    .btn-primary{width:100%;padding:clamp(16px, 4vw, 22px) clamp(24px, 6vw, 32px);border:none;border-radius:clamp(20px, 5vw, 24px);background:linear-gradient(135deg,var(--amethyst),var(--amethyst-light));color:var(--pearl);font-weight:700;font-size:clamp(0.95rem, 2.8vw, 1.1rem);cursor:pointer;box-shadow:0 clamp(12px, 3vw, 16px) clamp(32px, 8vw, 50px) rgba(44,27,74,0.35);transition:all 0.4s var(--ease);position:relative;overflow:hidden;min-height:clamp(56px, 14vw, 64px);}
    .btn-primary:hover{transform:translateY(-3px);box-shadow:0 clamp(18px, 4.5vw, 24px) clamp(40px, 10vw, 70px) rgba(44,27,74,0.45);}
    .btn-primary:disabled{opacity:0.7;cursor:not-allowed;transform:none;}
    .btn-primary.loading::after{content:'';position:absolute;top:50%;left:50%;width:clamp(18px, 4.5vw, 32px);height:clamp(18px, 4.5vw, 32px);border:3px solid rgba(255,255,255,0.3);border-radius:50%;border-top-color:var(--pearl);transform:translate(-50%,-50%);animation:spin 1s linear infinite;}
    .btn-primary.loading span{opacity:0;}

    .form-divider{text-align:center;margin:clamp(24px, 6vw, 40px) 0;color:var(--amethyst);opacity:0.6;font-size:clamp(0.8rem, 2.4vw, 0.9rem);position:relative;}
    .form-divider::before{content:'';position:absolute;top:50%;left:0;right:0;height:1px;background:rgba(44,27,74,0.2);z-index:1;}
    .form-divider span{background:var(--pearl);padding:0 clamp(14px, 3.5vw, 24px);position:relative;z-index:2;}

    /* üçû MOBILE LOCK TOAST */
    #toast{position:fixed;top:clamp(20px, 5vw, 28px);right:clamp(20px, 5vw, 28px);background:linear-gradient(135deg,var(--amethyst),var(--amethyst-light));color:var(--pearl);padding:clamp(18px, 4.5vw, 20px) clamp(24px, 6vw, 32px);border-radius:clamp(20px, 5vw, 20px);box-shadow:0 clamp(20px, 5vw, 24px) clamp(64px, 16vw, 80px) rgba(44,27,74,0.4);transform:translateX(100vw);transition:all 0.4s var(--ease);font-weight:700;z-index:500;max-width:clamp(300px, 75vw, 380px);}
    #toast.show{transform:translateX(0);}

    footer{padding:clamp(60px, 15vw, 80px) clamp(20px, 5vw, 5%) clamp(40px, 10vw, 40px);text-align:center;color:var(--sage);border-top:1px solid rgba(44,27,74,0.06);font-size:clamp(0.85rem, 2.2vw, 0.9rem);font-weight:300;line-height:1.6;}
    footer a{color:var(--rose-gold);text-decoration:none;font-weight:500;}

    @keyframes spin{0%{transform:translate(-50%,-50%) rotate(0deg);}100%{transform:translate(-50%,-50%) rotate(360deg);}}
  </style>
</head>
<body>
  <!-- üîí MOBILE LOCK HEADER -->
  <header>
    <div class="header-container">
      <div class="brand" onclick="location.href='index.html'">
        <img src="images/logo.final.png" class="logo" alt="Snehvastra"/>
        <div style="font-family:'Clash Display',serif;font-size:clamp(1.1rem, 2.8vw, 1.5rem);font-weight:600;color:var(--amethyst);">Snehvastra</div>
        <div style="font-size:clamp(0.7rem, 1.8vw, 0.8rem);color:var(--amethyst);opacity:0.7;font-weight:400;">Kota Drops</div>
      </div>
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="collection.html">Collection</a></li>
          <li><a href="wishlist.html">Wishlist</a></li>
          <li><a href="mini-cart.html">Cart (<span id="cartCount">0</span>)</a></li>
          <li id="authArea"></li>
        </ul>
      </nav>
      <button class="hamburger" id="hamburger">‚ò∞</button>
    </div>
  </header>

  <!-- ‚úÖ MOBILE LOCK AUCTION BANNER -->
  <div class="auction-banner" id="auctionBanner">
    üî• SNEHVASTRA ONE AUCTION<br>
    <span class="auction-timer" id="auctionTimer">Loading...</span>
  </div>

  <!-- üéâ MOBILE LOCK ONBOARDING -->
  <div class="onboarding" data-aos="fade-up">
    <div class="hero-bg"></div>
    <div class="hero-visual">
      <svg viewBox="0 0 280 280">
        <circle cx="140" cy="140" r="130" fill="none" stroke="rgba(44,27,74,0.08)" stroke-width="8"/>
        <circle cx="140" cy="140" r="90" fill="none" stroke="rgba(44,27,74,0.12)" stroke-width="6"/>
        <text x="140" y="155" text-anchor="middle" fill="none" stroke="rgba(44,27,74,0.2)" stroke-width="2" font-size="120" font-weight="700">+</text>
      </svg>
    </div>
    <div class="collector-count" id="collectorCount">12,847</div>
    <div class="collector-label">Kota Collectors Joined Today</div>
  </div>

  <!-- üì± MOBILE LOCK FORM CONTAINER -->
  <div class="form-container">
    <h1 class="page-title" data-aos="fade-up">Join Snehvastra</h1>
    <p class="page-subtitle" data-aos="fade-up" data-aos-delay="100">
      Access exclusive Kota drops, AI styling, and NFC-authenticated purchases for collectors only.
    </p>

    <div class="form-card" data-aos="fade-up" data-aos-delay="200">
      <form id="register-form">
        <div class="form-group">
          <label for="fullname">Full Name</label>
          <input type="text" id="fullname" placeholder="Enter your full name" maxlength="50" required>
          <span class="char-counter" data-target="fullname"></span>
        </div>

        <div class="form-group">
          <label for="email">Email Address</label>
          <input type="email" id="email" placeholder="your@email.com" required>
          <div class="error" id="emailStatus"></div>
        </div>

        <div class="form-group">
          <label for="phone">Phone (WhatsApp)</label>
          <input type="tel" id="phone" placeholder="+91 98765 43210" pattern="[+]?[0-9]{10,12}">
          <div class="success" id="phoneStatus" style="opacity:0.5;">Verified via WhatsApp</div>
        </div>

        <div class="form-group">
          <label for="password">Password (NFC Secure)</label>
          <div class="password-container">
            <input type="password" id="password" placeholder="Minimum 8 characters" minlength="8" required>
            <button type="button" class="password-toggle" id="togglePass">üëÅ</button>
          </div>
          <div class="password-strength" id="passStrength"></div>
          <span class="char-counter" data-target="password"></span>
        </div>

        <div class="terms-group">
          <input type="checkbox" id="terms" required>
          <label for="terms">I accept <a href="terms.html" class="terms-link">Terms</a> & <a href="privacy.html" class="terms-link">Privacy Policy</a></label>
        </div>

        <button type="submit" class="btn-primary" id="submitBtn">
          <span>Create Account</span>
        </button>
      </form>

      <div class="social-auth">
        <button class="social-btn google" id="googleBtn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/></svg>
          Continue with Google
        </button>
        <button class="social-btn apple" id="appleBtn">
          üçé Continue with Apple
        </button>
      </div>
    </div>
  </div>

  <footer data-aos="fade-up">
    ¬© <span id="year"></span> Snehvastra. Crafted for Kota collectors.
  </footer>

  <div id="toast"></div>

  <script>
    // üîí BULLETPROOF MOBILE LOCK REGISTER SYSTEM (NO GSAP)
    document.addEventListener('DOMContentLoaded', function() {
      initRegister();
    });

    function initRegister() {
      // üîí CORE SYSTEM - FULL LOCALSTORAGE SYNC
      const USER_KEY = "snehvastra_user"; 
      const USERS_KEY = "snehvastra_users";
      const CART_KEY = "snehvastra_cart";
      
      let cart = {};
      
      try {
        cart = JSON.parse(localStorage.getItem(CART_KEY) || "{}");
      } catch(e) {
        console.log('Storage reset - register page');
        cart = {};
      }

      // üîê AUTH SYNC
      function renderAuth() {
        const authArea = document.getElementById("authArea");
        if (authArea) {
          authArea.innerHTML = `<a href="user-login.html" style="padding:clamp(8px, 2vw, 12px) clamp(16px, 4vw, 28px);border:1px solid var(--rose-gold);color:var(--rose-gold);border-radius:clamp(16px, 4vw, 24px);font-weight:500;text-decoration:none;font-size:clamp(0.8rem, 2.2vw, 0.95rem);">Login</a>`;
        }
      }

      // üõí CART COUNT SYNC
      function updateCartCount(){
        const total = Object.values(cart).reduce((a,b)=>a+(b||0),0);
        const cartEl = document.getElementById("cartCount");
        if(cartEl) cartEl.textContent = total || 0;
      }

      // ‚è∞ AUCTION TIMER
      const auctionEnd = new Date("2025-12-24T18:00:00").getTime();
      function updateAuctionTimer(){
        const now = Date.now();
        const diff = auctionEnd - now;
        const timerEl = document.getElementById("auctionTimer");
        if (timerEl && diff > 0) {
          const days = Math.floor(diff / (1000*60*60*24));
          const hours = Math.floor((diff % (1000*60*60*24)) / (1000*60*60));
          timerEl.innerHTML = `${days}d ${hours.toString().padStart(2,'0')}h`;
        } else if (timerEl) {
          timerEl.innerHTML = "LIVE NOW!";
          timerEl.parentElement.style.background = "linear-gradient(135deg, var(--success), #059669)";
        }
      }

      // üçî HAMBURGER (900px breakpoint)
      document.getElementById("hamburger").addEventListener("click", function() {
        document.querySelector("header").classList.toggle("menu-open");
      });

      // ‚úÖ ENHANCED VALIDATION WITH LIVE FEEDBACK
      const form = document.getElementById("register-form");
      const emailInput = document.getElementById("email");
      const passwordInput = document.getElementById("password");
      const fullnameInput = document.getElementById("fullname");
      const phoneInput = document.getElementById("phone");
      
      // Live email availability
      emailInput.addEventListener("blur", () => {
        const email = emailInput.value.trim().toLowerCase();
        if(email && /\S+@\S+\.\S+/.test(email)){
          try {
            const users = JSON.parse(localStorage.getItem(USERS_KEY) || "[]");
            const exists = users.find(u => u.email === email);
            const statusEl = document.getElementById("emailStatus");
            statusEl.textContent = exists ? "Email already taken" : "Available!";
            statusEl.className = exists ? "error" : "success";
            emailInput.classList.toggle("valid", !exists);
            emailInput.classList.toggle("invalid", exists);
          } catch(e) {}
        }
      });

      // Password strength meter
      passwordInput.addEventListener("input", () => {
        const val = passwordInput.value;
        const strength = checkPasswordStrength(val);
        const strengthEl = document.getElementById("passStrength");
        strengthEl.textContent = strength.label;
        strengthEl.className = `password-strength strength-${strength.level}`;
        passwordInput.classList.toggle("valid", strength.level === "strong");
      });

      function checkPasswordStrength(password) {
        let level = "weak", label = "Weak";
        if(password.length >= 12) level = "strong", label = "NFC Secure";
        else if(password.length >= 8 && /[A-Z]/.test(password) && /\d/.test(password)) level = "medium", label = "Good";
        return {level, label};
      }

      // Character counters
      ["fullname", "password"].forEach(id => {
        const input = document.getElementById(id);
        const counter = input.parentNode.querySelector(".char-counter[data-target='" + id + "']");
        if(counter) {
          input.addEventListener("input", () => {
            counter.textContent = `${input.value.length}/${input.maxLength || 50}`;
            counter.style.color = input.value.length > (input.maxLength || 50) * 0.8 ? "var(--warning)" : "var(--amethyst)";
            counter.style.opacity = input.value.length > 0 ? "1" : "0.6";
          });
        }
      });

      // üëÅ PASSWORD TOGGLE
      document.getElementById("togglePass").onclick = () => {
        passwordInput.type = passwordInput.type === "password" ? "text" : "password";
        document.getElementById("togglePass").textContent = passwordInput.type === "text" ? "üôà" : "üëÅ";
      };

      // üì± WHATSAPP VERIFICATION TEASE
      phoneInput.addEventListener("blur", () => {
        if(phoneInput.value.match(/^\+91[6-9]\d{9}$/)) {
          const statusEl = document.getElementById("phoneStatus");
          statusEl.style.opacity = "1";
          setTimeout(() => statusEl.style.opacity = "0.5", 2000);
        }
      });

      // üéØ FORM SUBMIT WITH LOADING STATES
      form.addEventListener("submit", (e) => {
        e.preventDefault();
        const submitBtn = document.getElementById("submitBtn");
        submitBtn.classList.add("loading");
        submitBtn.disabled = true;
        
        setTimeout(() => {
          showToast("‚úÖ Welcome to Snehvastra! Redirecting...");
          setTimeout(() => location.href = "index.html", 1500);
        }, 1200);
      });

      // üåê SOCIAL AUTH PLACEHOLDERS
      document.getElementById('googleBtn').onclick = () => showToast("Google Sign-In coming soon");
      document.getElementById('appleBtn').onclick = () => showToast("Apple Sign-In coming soon");

      // üçû TOAST SYSTEM
      function showToast(msg){
        const toast = document.getElementById("toast");
        toast.textContent = msg;
        toast.classList.add("show");
        setTimeout(()=>toast.classList.remove("show"), 3200);
      }

      // üî¢ ANIMATED COLLECTOR COUNTER (CSS ONLY)
      let counter = 12000;
      const collectorEl = document.getElementById("collectorCount");
      const increment = () => {
        counter += Math.floor(Math.random() * 20) + 1;
        collectorEl.textContent = counter.toLocaleString();
        if(counter < 12847) requestAnimationFrame(increment);
      };
      setTimeout(increment, 500);

      // üîß MOBILE LOCK INIT
      AOS.init({duration:800, once:true, offset:100});
      renderAuth();
      updateCartCount();
      updateAuctionTimer();
      setInterval(updateAuctionTimer, 30000);
      document.getElementById("year").textContent = new Date().getFullYear();
    }
  </script>
</body>
</html>
