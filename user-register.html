<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Register - Snehvastra</title>
  <meta name="theme-color" content="#ECD78F">
  <meta name="description" content="Snehvastra User Registration - Join Echo Drops." />

  <!-- FONTS SYNC -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Clash+Display:wght@500;600&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />

  <style>
    :root {
      --bg-light-1: #FCFAF6;
      --bg-light-2: #FAF6E7;
      --text-dark: #4B4337;
      --muted-gold: #BFA658;
      --highlight-gold: #ECD78F;
      --max-w: 1200px;
      --radius: 14px;
      --transition-speed: 0.28s;
    }

    /* PERFECT RESET */
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
    body {
      background: linear-gradient(180deg, var(--bg-light-1), var(--bg-light-2));
      color: var(--text-dark); min-height: 100vh; overflow-x: hidden; line-height: 1.6;
    }

    /* HEADER - PERFECT RESPONSIVE */
    header {
      background: rgba(252,250,246,0.95); display: flex; justify-content: space-between; align-items: center;
      padding: 20px 5%; position: sticky; top: 0; z-index: 100; max-width: var(--max-w); margin: 0 auto;
      border-bottom: 1px solid var(--muted-gold); border-radius: 0 0 var(--radius) var(--radius);
      backdrop-filter: blur(12px);
    }
    .logo { height: 50px; width: auto; filter: drop-shadow(0 0 12px var(--highlight-gold)); }
    nav ul { display: flex; list-style: none; gap: 15px; flex-wrap: wrap; margin: 0; padding: 0; }
    nav ul li a {
      color: var(--muted-gold); font-size: 0.9rem; font-weight: 600; padding: 8px 14px; border-radius: 8px;
      transition: all var(--transition-speed) ease; text-decoration: none; white-space: nowrap;
    }
    nav ul li a:hover, nav ul li a.active { 
      color: var(--highlight-gold); background: rgba(236,215,143,0.15); 
    }
    #cartCount { 
      background: var(--highlight-gold); color: var(--text-dark); border-radius: 50%; 
      padding: 2px 6px; font-size: 0.8rem; font-weight: 700; margin-left: 4px;
    }

    /* AUCTION BANNER - FULL WIDTH MOBILE */
    .auction-banner {
      background: linear-gradient(135deg, var(--highlight-gold), var(--muted-gold));
      color: var(--text-dark); padding: 15px 20px; text-align: center; font-weight: 700; font-size: 1rem;
      position: sticky; top: 92px; z-index: 90; box-shadow: 0 4px 20px rgba(236,215,143,0.3);
      margin: 0 5%; border-radius: var(--radius);
    }
    .auction-timer { 
      font-family: 'Clash Display', serif; font-size: 0.9rem; background: rgba(255,255,255,0.95); 
      padding: 6px 12px; border-radius: 12px; display: inline-block; margin-left: 8px; 
    }

    /* MAIN - PERFECT CENTER */
    main { 
      padding: 160px 5% 60px; max-width: var(--max-w); margin: 0 auto; 
      display: flex; flex-direction: column; align-items: center; gap: 30px;
    }
    h1 {
      font-family: 'Clash Display', serif; font-weight: 600; font-size: clamp(2rem, 5vw, 2.5rem); 
      letter-spacing: 1.5px; margin-bottom: 0;
      background: linear-gradient(90deg, var(--muted-gold), var(--highlight-gold));
      -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
    }

    /* üî• FORM - NO OVERLAP */
    form {
      width: 100%; max-width: 420px; background: rgba(255,255,255,0.95); 
      padding: clamp(30px, 5vw, 40px); border-radius: var(--radius); 
      box-shadow: 0 12px 40px rgba(189,166,97,0.15); border: 1px solid rgba(191,166,88,0.2);
      backdrop-filter: blur(10px);
    }
    
    /* FIELD GROUPS - PERFECT SPACING */
    .form-group {
      margin-bottom: 24px; position: relative;
    }
    label {
      display: block; margin-bottom: 8px; font-size: 0.95rem; color: rgba(75,67,55,0.9);
      font-weight: 500; letter-spacing: 0.3px;
    }
    input {
      width: 100%; padding: 16px 20px; border-radius: 12px; border: 1px solid rgba(191,166,88,0.2);
      background: rgba(252,250,246,0.95); color: var(--text-dark); font-size: 1rem; 
      outline: none; transition: all 0.3s ease; font-family: inherit;
      font-size: 16px; /* iOS zoom fix */
    }
    input:focus {
      border-color: var(--muted-gold); box-shadow: 0 0 15px rgba(191,166,88,0.3);
      background: rgba(252,250,246,1);
    }
    
    /* PASSWORD TOGGLE FIXED */
    .password-container { position: relative; }
    .password-toggle {
      position: absolute; right: 16px; top: 50%; transform: translateY(-50%);
      background: none; border: none; color: var(--muted-gold); cursor: pointer; 
      font-size: 1.1rem; padding: 0;
    }
    
    .error { 
      color: #ff6b6b; font-size: 0.85rem; margin-top: 6px; display: none; 
      font-weight: 500;
    }

    /* CHECKBOX + BUTTON */
    .checkbox-group {
      display: flex; align-items: flex-start; gap: 12px; margin: 20px 0;
    }
    .checkbox-group input[type="checkbox"] {
      margin: 0; transform: scale(1.3); accent-color: var(--muted-gold); margin-top: 2px;
    }

    button {
      width: 100%; padding: 18px; background: linear-gradient(135deg, var(--muted-gold), var(--highlight-gold));
      border: none; border-radius: 12px; color: var(--text-dark); font-weight: 700; font-size: 1.05rem;
      cursor: pointer; transition: all 0.3s ease; box-shadow: 0 8px 25px rgba(191,166,88,0.4);
      font-family: inherit; letter-spacing: 0.5px;
    }
    button:hover:not(:disabled) { 
      transform: translateY(-2px); box-shadow: 0 12px 35px rgba(191,166,88,0.6); 
    }
    button:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }

    .login-link {
      font-size: 0.95rem; color: rgba(75,67,55,0.7); text-align: center; margin-top: 0;
    }
    .login-link a { 
      color: var(--muted-gold); text-decoration: none; font-weight: 600; 
    }
    .login-link a:hover { color: var(--highlight-gold); }

    /* TOAST */
    .toast {
      position: fixed; top: 120px; right: 20px; background: linear-gradient(135deg, var(--highlight-gold), var(--muted-gold));
      color: var(--text-dark); padding: 16px 24px; border-radius: 12px; box-shadow: 0 10px 35px rgba(236,215,143,0.4);
      font-weight: 600; z-index: 1000; transform: translateX(400px); transition: transform 0.3s ease;
      max-width: 350px;
    }
    .toast.show { transform: translateX(0); }
    .toast.success { background: linear-gradient(135deg, #4CAF50, #81C784); color: white; }
    .toast.error { background: linear-gradient(135deg, #ff6b6b, #ff8e8e); color: white; }

    /* FOOTER */
    footer {
      text-align: center; padding: 40px 5%; background: rgba(252,250,246,0.85); margin-top: auto;
      color: rgba(75,67,55,0.8); border-top: 1px solid var(--muted-gold); font-size: 0.95rem;
      max-width: var(--max-w); margin-left: auto; margin-right: auto;
    }

    /* üî• PERFECT RESPONSIVE - NO OVERLAP [web:205][web:215] */
    @media (max-width: 768px) {
      header { 
        padding: 15px 20px !important; flex-direction: column; gap: 15px; 
        border-radius: var(--radius) !important;
      }
      nav ul { 
        gap: 8px; justify-content: center; flex-wrap: wrap; width: 100%; 
      }
      nav ul li a { 
        font-size: 0.85rem; padding: 6px 12px; 
      }
      
      .auction-banner {
        margin: 0 20px; top: 110px; padding: 12px 16px; font-size: 0.95rem;
      }
      
      main { 
        padding: 140px 15px 40px !important; gap: 20px;
      }
      
      form { 
        padding: 30px 25px !important; margin: 0 10px; max-width: 100% !important;
      }
      
      input { padding: 16px 18px !important; font-size: 16px !important; }
    }

    @media (max-width: 480px) {
      .auction-banner { margin: 0 15px; font-size: 0.9rem; }
      main { padding: 130px 10px 30px !important; }
      h1 { letter-spacing: 1px; }
    }

    /* DESKTOP OPTIMIZED */
    @media (min-width: 769px) {
      main { padding: 180px 5% 80px !important; }
      header { padding: 25px 5% !important; }
    }
  </style>
</head>

<body>
  <!-- HEADER -->
  <header>
    <img src="images/logo.final.png" alt="Snehvastra Logo" class="logo" />
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="collection.html">Collection</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="wishlist.html">Wishlist</a></li>
        <li><a href="cart.html">Cart (<span id="cartCount">0</span>)</a></li>
        <li><a href="user-login.html">Login</a></li>
        <li><a href="user-register.html" class="active">Register</a></li>
      </ul>
    </nav>
  </header>

  <!-- AUCTION BANNER -->
  <div class="auction-banner">
    üî• SNEHVASTRA ONE AUCTION <div class="auction-timer" id="auctionTimer">Loading...</div>
  </div>

  <main>
    <h1>Create Account</h1>
    
    <!-- PERFECT FORM -->
    <form id="register-form" aria-label="Registration form">
      <div class="form-group">
        <label for="fullname">Full Name</label>
        <input type="text" id="fullname" name="fullname" placeholder="Your full name" required autocomplete="name" />
        <div class="error" id="fullname-error"></div>
      </div>

      <div class="form-group">
        <label for="email">Email Address</label>
        <input type="email" id="email" name="email" placeholder="email@example.com" required autocomplete="email" />
        <div class="error" id="email-error"></div>
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <div class="password-container">
          <input type="password" id="password" name="password" placeholder="Create password (8+ chars)" required autocomplete="new-password" />
          <button type="button" class="password-toggle" onclick="togglePassword('password')">üëÅ</button>
        </div>
        <div class="error" id="password-error"></div>
      </div>

      <div class="form-group">
        <label for="confirmpassword">Confirm Password</label>
        <div class="password-container">
          <input type="password" id="confirmpassword" name="confirmpassword" placeholder="Confirm password" required autocomplete="new-password" />
          <button type="button" class="password-toggle" onclick="togglePassword('confirmpassword')">üëÅ</button>
        </div>
        <div class="error" id="confirm-error"></div>
      </div>

      <div class="checkbox-group">
        <input type="checkbox" id="terms" required />
        <label for="terms" style="font-weight: 500; cursor: pointer; flex: 1;">I agree to Terms & Conditions</label>
      </div>

      <button type="submit" id="registerBtn">Create Account</button>
    </form>

    <div class="login-link">
      Already have an account? <a href="user-login.html">Login here</a>
    </div>
  </main>

  <footer>
    ¬© <span id="currentYear"></span> Snehvastra. All Rights Reserved. ‚Ä¢
    <span style="opacity: 0.85;">Instagram: <strong>@sneh_vastra</strong></span>
  </footer>

  <!-- TOAST -->
  <div id="toast" class="toast"></div>

  <!-- SCRIPT - SAME FUNCTIONALITY -->
  <script>
    // SHARED STORAGE
    let cart = JSON.parse(localStorage.getItem('snehvastra_cart')) || {};
    let users = JSON.parse(localStorage.getItem('snehvastra_users')) || [];

    // CART COUNT
    function updateCartCount() {
      const totalItems = Object.values(cart).reduce((sum, qty) => sum + qty, 0);
      document.getElementById('cartCount').textContent = totalItems;
    }

    // TOAST
    function showToast(message, type = 'success') {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.className = `toast ${type}`;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 4000);
    }

    // PASSWORD TOGGLE FIXED
    function togglePassword(fieldId) {
      const field = document.getElementById(fieldId);
      const toggle = field.parentElement.querySelector('.password-toggle');
      if (field.type === 'password') {
        field.type = 'text';
        toggle.textContent = 'üôà';
      } else {
        field.type = 'password';
        toggle.textContent = 'üëÅ';
      }
    }

    // VALIDATION
    function validateForm() {
      let isValid = true;
      document.querySelectorAll('.error').forEach(el => el.style.display = 'none');
      
      const fullname = document.getElementById('fullname').value.trim();
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value;
      const confirm = document.getElementById('confirmpassword').value;
      const terms = document.getElementById('terms').checked;

      if (fullname.length < 2) {
        document.getElementById('fullname-error').textContent = 'Name must be 2+ characters';
        document.getElementById('fullname-error').style.display = 'block';
        isValid = false;
      }

      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
        document.getElementById('email-error').textContent = 'Please enter valid email';
        document.getElementById('email-error').style.display = 'block';
        isValid = false;
      }
      if (users.find(u => u.email === email)) {
        document.getElementById('email-error').textContent = 'Email already registered';
        document.getElementById('email-error').style.display = 'block';
        isValid = false;
      }

      if (password.length < 8) {
        document.getElementById('password-error').textContent = 'Password must be 8+ characters';
        document.getElementById('password-error').style.display = 'block';
        isValid = false;
      }

      if (password !== confirm) {
        document.getElementById('confirm-error').textContent = 'Passwords do not match';
        document.getElementById('confirm-error').style.display = 'block';
        isValid = false;
      }

      if (!terms) {
        showToast('Please accept Terms & Conditions', 'error');
        isValid = false;
      }

      return isValid;
    }

    // FORM SUBMIT
    document.getElementById('register-form').addEventListener('submit', function(e) {
      e.preventDefault();
      
      if (!validateForm()) return;

      const registerBtn = document.getElementById('registerBtn');
      registerBtn.disabled = true;
      registerBtn.textContent = 'Creating Account...';

      const newUser = {
        id: Date.now(),
        name: document.getElementById('fullname').value.trim(),
        email: document.getElementById('email').value.trim(),
        password: document.getElementById('password').value,
        joined: new Date().toISOString(),
        loggedIn: true
      };

      users.push(newUser);
      localStorage.setItem('snehvastra_users', JSON.stringify(users));
      localStorage.setItem('snehvastra_user', JSON.stringify(newUser));

      setTimeout(() => {
        showToast(`Welcome ${newUser.name}! Account created! üéâ`, 'success');
        setTimeout(() => {
          window.location.href = 'index.html';
        }, 1500);
      }, 1000);
    });

    // AUCTION COUNTDOWN
    const auctionDate = new Date('2025-12-01T18:00:00').getTime();
    setInterval(() => {
      const now = new Date().getTime();
      const diff = auctionDate - now;
      const timer = document.getElementById('auctionTimer');
      if (timer && diff > 0) {
        const d = Math.floor(diff / 86400000);
        const h = Math.floor((diff % 86400000) / 3600000);
        const m = Math.floor((diff % 3600000) / 60000);
        const s = Math.floor((diff % 60000) / 1000);
        timer.textContent = `${d}d ${h}h ${m}m ${s}s`;
      } else if (timer) {
        timer.textContent = 'LIVE NOW!';
      }
    }, 1000);

    // INIT
    window.addEventListener('load', () => {
      updateCartCount();
      document.getElementById('currentYear').textContent = new Date().getFullYear();
    });
  </script>

  <!-- Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-CXQG6L0W01"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-CXQG6L0W01');
  </script>
</body>
</html>