<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <meta name="theme-color" content="#2C1B4A"/>
  <title>SNEHVASTRA ONE — Live Auction</title>
  <meta name="description" content="Snehvastra studio's 1/1 collector auction. Live NFC-verified bidding on artisan-crafted luxury."/>

  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Clash+Display:wght@400;500;600;700;900&family=Poppins:wght@200;300;400;500;600;700&display=swap" rel="stylesheet"/>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet"/>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

  <style>
    :root{
      --amethyst:#2C1B4A; --amethyst-light:#4A377A; --amethyst-glow:#6B5ACF;
      --pearl:#F8F6F9; --ivory:#EDE8F5; --silk:#D9D2E9;
      --rose-gold:#E8B4B8; --rose-gold-dark:#D4A5AF; --sage:#A8B5A2;
      --shadow-soft:0 35px 140px rgba(44,27,74,0.15); --shadow-glow:0 0 35px rgba(107,90,207,0.2);
      --radius:32px; --max-width:1600px; --ease:cubic-bezier(0.32,0.72,0,1);
    }
    *{box-sizing:border-box;margin:0;padding:0;}
    body{font-family:'Poppins',sans-serif;background:linear-gradient(135deg,#F8F6F9 0%,#EDE8F5 50%,#D9D2E9 100%);color:var(--amethyst);overflow-x:hidden;line-height:1.8;position:relative;}

    /* FIXED ETHEREAL HEADER */
    header{position:fixed;top:0;left:0;right:0;z-index:1000;background:linear-gradient(180deg,rgba(248,246,249,0.98),rgba(237,232,245,0.95));backdrop-filter:blur(40px);border-bottom:1px solid rgba(44,27,74,0.08);padding:20px 0;will-change:transform;}
    .header-container{max-width:var(--max-width);margin:0 auto;padding:0 5%;display:flex;align-items:center;justify-content:space-between;}
    .brand{display:flex;gap:20px;align-items:center;cursor:pointer;transition:all 0.6s var(--ease);}
    .brand:hover{transform:translateY(-4px);}
    .logo{height:60px;border-radius:20px;box-shadow:0 20px 60px rgba(44,27,74,0.12);transition:inherit;}
    nav ul{display:flex;gap:12px;list-style:none;margin:0;padding:0;flex-wrap:wrap;}
    nav a{padding:12px 24px;border-radius:24px;font-weight:400;color:var(--amethyst);text-decoration:none;font-size:0.95rem;backdrop-filter:blur(20px);transition:all 0.4s var(--ease);position:relative;white-space:nowrap;}
    nav a::after{content:'';position:absolute;bottom:4px;left:50%;width:0;height:2px;background:var(--rose-gold);transition:all 0.4s var(--ease);transform:translateX(-50%);}
    nav a:hover::after{width:80%;}
    nav a.active{color:var(--amethyst);font-weight:500;background:rgba(232,180,184,0.15);box-shadow:0 8px 32px rgba(232,180,184,0.15);}

    /* PERFECTED SERENE HERO */
    .hero{position:relative;min-height:100vh;padding-top:120px;display:flex;align-items:center;justify-content:center;text-align:center;overflow:hidden;}
    .hero::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(ellipse at 40% 20%,rgba(107,90,207,0.08) 0%,transparent 50%),radial-gradient(ellipse at 70% 80%,rgba(232,180,184,0.06) 0%,transparent 50%);z-index:1;}
    .hero-content{position:relative;z-index:2;max-width:1200px;padding:0 5%;width:100%;}
    .hero-badge{position:absolute;top:100px;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,var(--rose-gold),var(--rose-gold-dark));color:var(--amethyst);padding:20px 40px;border-radius:999px;font-family:'Clash Display',serif;font-size:1.2rem;font-weight:700;letter-spacing:1px;box-shadow:var(--shadow-glow);animation:float-gentle 8s ease-in-out infinite;max-width:90vw;}
    .hero-title{font-family:'Clash Display',serif;font-size:clamp(4rem,12vw,10rem);font-weight:900;margin:0 0 24px;line-height:0.9;background:linear-gradient(135deg,var(--amethyst),var(--amethyst-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:-2px;}
    .hero-subtitle{font-size:clamp(1.2rem,3vw,1.8rem);font-weight:200;max-width:800px;margin:0 auto 60px;opacity:0.9;line-height:1.6;padding:0 20px;}
    .hero-stats{position:absolute;bottom:80px;left:50%;transform:translateX(-50%);display:flex;gap:40px;flex-wrap:wrap;justify-content:center;}
    @media(max-width:768px){.hero-stats{gap:20px;bottom:60px;padding:0 20px;box-sizing:border-box;}}
    .stat{background:var(--pearl);padding:32px 48px;border-radius:28px;border:1px solid rgba(44,27,74,0.06);min-width:180px;text-align:center;transition:all 0.6s var(--ease);box-shadow:var(--shadow-soft);flex:1;max-width:220px;}
    @media(max-width:768px){.stat{padding:24px 32px;min-width:140px;max-width:160px;}}
    .stat:hover{transform:translateY(-12px) scale(1.02);background:linear-gradient(135deg,var(--ivory),var(--silk));}
    .stat-value{font-family:'Clash Display',serif;font-size:clamp(2.5rem,6vw,4rem);font-weight:900;color:var(--amethyst);display:block;margin-bottom:8px;}
    .stat-label{font-size:0.9rem;font-weight:300;letter-spacing:0.5px;opacity:0.8;}

    /* BULLETPROOF COUNTDOWN */
    .countdown-container{position:fixed;top:140px;right:30px;z-index:900;max-width:240px;}
    @media(max-width:768px){.countdown-container{top:120px;right:20px;max-width:200px;}}
    .countdown-card{background:var(--pearl);backdrop-filter:blur(40px);padding:24px 32px;border-radius:28px;font-family:'Clash Display',serif;font-weight:700;font-size:1.4rem;color:var(--amethyst);box-shadow:var(--shadow-soft);border:1px solid rgba(44,27,74,0.08);text-align:center;min-width:200px;}

    /* FLAWLESS VAULT SECTION */
    .vault{padding:160px 5% 120px;max-width:var(--max-width);margin:0 auto;}
    @media(max-width:768px){.vault{padding:120px 5% 80px;}}
    .vault-title{font-family:'Clash Display',serif;font-size:clamp(3rem,8vw,6rem);text-align:center;margin:0 0 100px;font-weight:900;background:linear-gradient(135deg,var(--amethyst),var(--amethyst-glow));-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:-1px;max-width:800px;margin-left:auto;margin-right:auto;}
    
    .auction-showcase{display:grid;grid-template-columns:1fr 420px;gap:100px;align-items:start;max-width:1400px;margin:0 auto;}
    @media(max-width:1400px){.auction-showcase{grid-template-columns:1fr;gap:80px;justify-items:center;text-align:center;}}
    @media(max-width:768px){.auction-showcase{gap:60px;}}

    /* PERFECTED ARTISAN DISPLAY */
    .artisan-display{position:relative;height:680px;max-width:600px;margin:0 auto;}
    @media(max-width:768px){.artisan-display{height:500px;}}
    .frame-glow{position:absolute;top:-20px;left:50%;transform:translateX(-50%);width:580px;height:720px;background:radial-gradient(circle,rgba(107,90,207,0.12) 0%,transparent 70%);border-radius:50%;animation:gentle-pulse 6s ease-in-out infinite;pointer-events:none;z-index:1;}
    @media(max-width:768px){.frame-glow{width:480px;height:600px;top:-10px;}}
    .silk-frame{position:absolute;top:20px;left:50%;transform:translateX(-50%);width:520px;height:640px;background:linear-gradient(135deg,rgba(248,246,249,0.9),rgba(237,232,245,0.95));border-radius:28px;box-shadow:var(--shadow-soft),inset 0 1px 0 rgba(255,255,255,0.8);backdrop-filter:blur(40px);border:1px solid rgba(44,27,74,0.08);transition:all 0.8s var(--ease);display:flex;align-items:center;justify-content:center;overflow:hidden;z-index:2;}
    @media(max-width:768px){.silk-frame{width:420px;height:520px;top:10px;}}
    .silk-frame:hover{transform:translateX(-50%) translateY(-15px) scale(1.015);}
    .silk-frame img{width:100%;height:100%;object-fit:cover;border-radius:24px;}
    .item-title{position:relative;bottom:auto;left:auto;transform:none;font-family:'Clash Display',serif;font-size:2.2rem;color:var(--amethyst);font-weight:700;text-align:center;padding:20px 40px;background:var(--pearl);border-radius:24px;box-shadow:var(--shadow-soft);letter-spacing:-0.3px;margin-top:20px;max-width:500px;margin-left:auto;margin-right:auto;}

    /* BULLETPROOF SILK PANEL */
    .silk-panel{background:var(--pearl);backdrop-filter:blur(50px);border-radius:var(--radius);padding:60px 40px;border:1px solid rgba(44,27,74,0.08);box-shadow:var(--shadow-soft);height:fit-content;position:sticky;top:140px;align-self:start;max-width:420px;width:100%;}
    @media(max-width:768px){.silk-panel{padding:40px 24px;top:120px;max-width:100%;}}
    .current-bid{font-family:'Clash Display',serif;font-size:clamp(3rem,8vw,4.8rem);font-weight:900;color:var(--rose-gold);text-align:center;margin-bottom:40px;letter-spacing:-1.5px;}
    .bid-input-container{position:relative;margin-bottom:32px;}
    .bid-input{border:none;border-radius:24px;padding:20px 28px;font-size:1.4rem;font-family:'Clash Display',serif;font-weight:500;background:var(--ivory);color:var(--amethyst);width:100%;box-shadow:var(--shadow-soft);backdrop-filter:blur(20px);border:1px solid rgba(44,27,74,0.06);transition:all 0.4s var(--ease);box-sizing:border-box;}
    .bid-input::placeholder{color:var(--amethyst);opacity:0.4;}
    .bid-input:focus{outline:none;box-shadow:0 20px 60px rgba(44,27,74,0.12);transform:translateY(-2px);}
    .bid-btn{display:block;width:100%;padding:24px;border:none;border-radius:28px;background:linear-gradient(135deg,var(--rose-gold),var(--rose-gold-dark));color:var(--amethyst);font-family:'Clash Display',serif;font-size:1.3rem;font-weight:700;letter-spacing:0.8px;cursor:pointer;box-shadow:var(--shadow-soft);transition:all 0.5s var(--ease);position:relative;overflow:hidden;text-transform:uppercase;text-decoration:none;}
    .bid-btn:hover{transform:translateY(-6px) scale(1.01);box-shadow:0 35px 100px rgba(232,180,184,0.25);}
    .bid-btn:active{transform:translateY(-3px);}

    /* PERFECTED LEADERBOARD */
    .leaderboard{background:var(--pearl);backdrop-filter:blur(40px);border-radius:var(--radius);padding:50px 40px;border:1px solid rgba(44,27,74,0.08);box-shadow:var(--shadow-soft);margin-top:80px;}
    @media(max-width:768px){.leaderboard{padding:40px 24px;margin-top:60px;}}
    .leaderboard-title{font-family:'Clash Display',serif;font-size:2.2rem;color:var(--amethyst);text-align:center;margin-bottom:40px;font-weight:700;letter-spacing:-0.3px;}
    .leader-item{display:flex;justify-content:space-between;align-items:center;padding:24px 0;border-bottom:1px solid rgba(44,27,74,0.04);transition:all 0.4s var(--ease);}
    .leader-item:last-child{border-bottom:none;}
    .leader-item:hover{background:rgba(232,180,184,0.06);}
    .leader-rank{font-size:2rem;font-weight:900;color:var(--rose-gold);min-width:50px;flex-shrink:0;}
    .leader-name{font-weight:500;font-size:1rem;opacity:0.9;flex:1;}
    .leader-bid{font-family:'Clash Display',serif;font-size:1.6rem;font-weight:700;color:var(--amethyst);white-space:nowrap;}

    /* PERFECT FOOTER */
    footer{padding:120px 5% 60px;text-align:center;background:var(--pearl);color:var(--amethyst);border-top:1px solid rgba(44,27,74,0.06);font-size:0.9rem;font-weight:300;}
    @media(max-width:768px){footer{padding:80px 5% 40px;}}

    /* TOAST PERFECTION */
    #toast{position:fixed;bottom:40px;left:50%;transform:translateX(-50%) translateY(100px);background:linear-gradient(135deg,var(--sage),#9CB89A);color:var(--amethyst);padding:20px 36px;border-radius:24px;font-weight:600;font-size:1rem;z-index:1000;transition:all 0.5s var(--ease);max-width:90vw;box-shadow:var(--shadow-soft);backdrop-filter:blur(20px);}
    #toast.show{transform:translateX(-50%) translateY(0);}

    /* RESPONSIVE PERFECTION */
    @media(max-width:1400px){.auction-showcase .silk-panel{position:relative;top:auto;}}
    @media(max-width:768px){
      .hero{padding-top:100px;min-height:90vh;}
      .hero-badge{top:60px;font-size:1rem;padding:16px 32px;}
      .hero-stats{bottom:40px;gap:16px;flex-direction:column;align-items:center;}
      .countdown-container{top:100px;right:20px;}
      .vault-title{margin-bottom:60px;}
      .artisan-display{height:420px;}
      .frame-glow{width:400px;height:500px;}
      .silk-frame{width:360px;height:460px;}
    }
    @media(max-width:480px){
      .header-container{padding:0 4%;flex-wrap:wrap;gap:20px;}
      nav ul{flex-wrap:wrap;justify-content:center;gap:8px;}
      nav a{padding:10px 20px;font-size:0.9rem;}
      .vault{padding:100px 4% 60px;}
      .leaderboard{padding:30px 20px;}
    }

    @keyframes float-gentle{0%,100%{transform:translateX(-50%) translateY(0px);}50%{transform:translateX(-50%) translateY(-12px);}}
    @keyframes gentle-pulse{0%,100%{opacity:0.7;transform:scale(1);}50%{opacity:1;transform:scale(1.02);}}
  </style>
</head>
<body>
  <!-- HERO SECTION -->
  <header>
    <div class="header-container">
      <div class="brand" onclick="location.href='index.html'">
        <img src="images/logo.final.png" alt="Snehvastra" class="logo"/>
        <div style="font-family:'Clash Display',serif;font-size:1.5rem;font-weight:600;color:var(--amethyst);">Snehvastra</div>
      </div>
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="collection.html">Collection</a></li>
          <li><a href="blog.html">Stories</a></li>
          <li><a href="auction.html" class="active">Auction</a></li>
          <li><a href="cart.html">Cart (<span id="cartCount">0</span>)</a></li>
          <li id="authArea"></li>
        </ul>
      </nav>
    </div>
  </header>

  <div class="countdown-container">
    <div class="countdown-card" id="countdown">Loading...</div>
  </div>

  <section class="hero" data-aos="fade-in">
    <div class="hero-badge" data-aos="fade-up" data-aos-delay="200">1/1 COLLECTOR EDITION</div>
    <div class="hero-content">
      <h1 class="hero-title" data-aos="fade-up" data-aos-delay="400">SNEHVASTRA ONE</h1>
      <p class="hero-subtitle" data-aos="fade-up" data-aos-delay="600">Snehvastra studio's ultimate artisan masterpiece. 200-year loom. NFC-verified lineage. Live collector bidding.</p>
    </div>
    <div class="hero-stats">
      <div class="stat" data-aos="fade-up" data-aos-delay="800">
        <span class="stat-value">1/1</span>
        <span class="stat-label">Edition</span>
      </div>
      <div class="stat" data-aos="fade-up" data-aos-delay="1000">
        <span class="stat-value">✓</span>
        <span class="stat-label">NFC Verified</span>
      </div>
      <div class="stat" data-aos="fade-up" data-aos-delay="1200">
        <span class="stat-value">1825</span>
        <span class="stat-label">Loom Age</span>
      </div>
    </div>
  </section>

  <!-- VAULT SECTION -->
  <section class="vault">
    <h2 class="vault-title" data-aos="fade-up">THE ARTISAN VAULT</h2>
    <div class="auction-showcase">
      <div class="artisan-display" data-aos="zoom-in" data-aos-delay="200">
        <div class="frame-glow"></div>
        <div class="silk-frame">
          <img src="images/item-bomber.jpg" alt="Crafted Bomber — Olive">
        </div>
        <h3 class="item-title">Crafted Bomber — Olive</h3>
      </div>
      
      <div class="silk-panel" data-aos="fade-left" data-aos-delay="400">
        <div class="current-bid" id="currentBid">₹47,200</div>
        <div class="bid-input-container">
          <input type="number" class="bid-input" id="bidInput" placeholder="Enter your bid (₹48,000+)" min="48000">
        </div>
        <button class="bid-btn" onclick="placeBid()">Place Your Bid</button>
      </div>
    </div>
  </section>

  <!-- LEADERBOARD -->
  <section class="leaderboard" data-aos="fade-up">
    <h3 class="leaderboard-title">Live Leaderboard</h3>
    <div id="leaderboard"></div>
  </section>

  <footer>
    © <span id="year"></span> Snehvastra. Snehvastra Live Auction • NFC Craft Verified.
  </footer>

  <div id="toast"></div>

  <script>
    gsap.registerPlugin(ScrollTrigger);
    
    // PRODUCTION READY SYSTEM
    const USER_KEY = "snehvastra_user"; 
    const CART_KEY = "snehvastra_cart";
    let cart = JSON.parse(localStorage.getItem(CART_KEY) || '{}');
    let user = JSON.parse(localStorage.getItem(USER_KEY) || 'null');

    function renderAuth(){
      const authArea = document.getElementById("authArea");
      if(user && user.loggedIn){
        authArea.innerHTML = `<span style="color:var(--rose-gold);font-weight:600;font-family:'Clash Display',serif;">${user.name}</span>`;
      } else {
        authArea.innerHTML = `<a href="user-login.html" style="padding:12px 28px;border:1px solid var(--rose-gold);color:var(--rose-gold);border-radius:24px;font-weight:500;text-decoration:none;">Login to Bid</a>`;
      }
    }

    function updateCartCount(){
      const cartCount = document.getElementById("cartCount");
      if(cartCount){
        const total = Object.values(cart).reduce((sum,qty)=>sum + (qty||0),0);
        cartCount.textContent = total || 0;
      }
    }

    // AUCTION SYSTEM - BULLETPROOF
    let currentBid = 47200;
    let leaderboard = [
      {name:"arun_v", bid:125000},
      {name:"priya.k", bid:102800},
      {name:"nikhil_design", bid:92800},
      {name:"rahul_c", bid:87500}
    ];

    function placeBid(){
      if(!user?.loggedIn) {
        showToast("Login required to bid");
        return;
      }
      const input = document.getElementById("bidInput");
      const val = parseInt(input.value);
      
      if(!val || val <= currentBid || isNaN(val)){
        showToast("Bid must exceed current: ₹" + currentBid.toLocaleString());
        input.focus();
        return;
      }
      
      currentBid = val;
      document.getElementById("currentBid").textContent = "₹" + val.toLocaleString();
      leaderboard.unshift({name:"YOU", bid:val});
      leaderboard.sort((a,b)=>b.bid-a.bid);
      leaderboard.splice(5);
      renderLeaderboard();
      input.value = "";
      input.placeholder = `₹${(val+1000).toLocaleString()}+`;
      showToast("Bid placed successfully ✓");
      
      // PERFECT ANIMATION
      gsap.from("#currentBid", {scale:1.15, duration:0.4, yoyo:true, repeat:1, ease:"back.out(2)"});
    }

    function renderLeaderboard(){
      const container = document.getElementById("leaderboard");
      if(!container) return;
      
      container.innerHTML = leaderboard.map((item,i) => `
        <div class="leader-item ${item.name==="YOU" ? "you" : ""}">
          <div style="display:flex;align-items:center;gap:24px;flex:1;">
            <div class="leader-rank">${i+1}.</div>
            <div class="leader-name">${item.name}</div>
          </div>
          <div class="leader-bid">₹${item.bid.toLocaleString()}</div>
        </div>
      `).join("");
    }

    function showToast(msg){
      const toast = document.getElementById("toast");
      toast.textContent = msg;
      toast.classList.add("show");
      setTimeout(()=>toast.classList.remove("show"), 3500);
    }

    // COUNTDOWN PERFECTION
    const auctionEnd = new Date("2025-12-24T18:00:00").getTime();
    function updateCountdown(){
      const now = Date.now();
      const diff = auctionEnd - now;
      const countdownEl = document.getElementById("countdown");
      
      if(!countdownEl) return;
      
      if(diff > 0){
        const days = Math.floor(diff / (1000*60*60*24));
        const hours = Math.floor((diff % (1000*60*60*24)) / (1000*60*60));
        const mins = Math.floor((diff % (1000*60*60)) / (1000*60));
        countdownEl.innerHTML = `${days}d ${hours.toString().padStart(2,'0')}h ${mins.toString().padStart(2,'0')}m`;
      } else {
        countdownEl.innerHTML = "AUCTION ENDED";
        countdownEl.style.background = "linear-gradient(135deg, #A8B5A2, #9CB89A)";
      }
    }

    // GSAP PERFECTION
    gsap.from(".hero-title", {scale:0.85, opacity:0, duration:1.2, ease:"back.out(1.7)"});
    gsap.from(".silk-frame", {scale:0.92, y:40, duration:1.4, scrollTrigger:{trigger:".vault", start:"top 85%"}});
    gsap.from(".stat", {
      y:50, opacity:0, duration:0.8, stagger:0.2, ease:"power2.out",
      scrollTrigger:{trigger:".hero-stats", start:"top 90%"}
    });

    // ENTER KEY SUPPORT
    document.addEventListener('DOMContentLoaded', function(){
      const bidInput = document.getElementById('bidInput');
      if(bidInput){
        bidInput.addEventListener('keypress', function(e){
          if(e.key === 'Enter') placeBid();
        });
      }
    });

    // INIT PERFECTION
    function init(){
      AOS.init({duration:1200, once:true, offset:100});
      renderAuth();
      updateCartCount();
      renderLeaderboard();
      updateCountdown();
      setInterval(updateCountdown, 30000);
      document.getElementById("year").textContent = new Date().getFullYear();
      
      // SMOOTH SCROLL
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          document.querySelector(this.getAttribute('href')).scrollIntoView({behavior: 'smooth'});
        });
      });
    }

    // LOAD WHEN READY
    if(document.readyState === 'loading'){
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
  </script>
</body>
</html>
