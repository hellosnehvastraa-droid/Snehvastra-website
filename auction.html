<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="theme-color" content="#2C1B4A"/>
  <title>SNEHVASTRA ONE ‚Äî Live Auction</title>
  <meta name="description" content="Kota Studio 1/1 collector auction. Live NFC bidding."/>

  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Clash+Display:wght@400;500;600;700;900&family=Poppins:wght@200;300;400;500;600;700&display=swap" rel="stylesheet"/>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet"/>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

  <style>
    :root{
      --amethyst:#2C1B4A; --amethyst-light:#4A377A; --rose-gold:#E8B4B8; --rose-gold-dark:#D4A5AF;
      --pearl:#F8F6F9; --sage:#A8B5A2; --shadow-soft:0 25px 100px rgba(44,27,74,0.12);
      --radius:28px; --max-width:1200px; --ease:cubic-bezier(0.32,0.72,0,1);
    }
    *{box-sizing:border-box;margin:0;padding:0;}
    body{font-family:'Poppins',sans-serif;background:linear-gradient(135deg,#F8F6F9 0%,#EDE8F5 100%);color:var(--amethyst);overflow-x:hidden;line-height:1.6;position:relative;min-height:100vh;}

    /* ‚úÖ FIXED 64px MOBILE HEADER */
    header{position:fixed;top:0;left:0;right:0;z-index:1000;background:rgba(248,246,249,0.98);backdrop-filter:blur(40px);border-bottom:1px solid rgba(44,27,74,0.08);padding:16px 5%;}
    .header-inner{display:flex;align-items:center;justify-content:space-between;min-height:64px;max-width:var(--max-width);margin:0 auto;}
    .brand{display:flex;gap:16px;align-items:center;cursor:pointer;flex-shrink:0;}
    .logo{height:48px;border-radius:16px;box-shadow:0 12px 40px rgba(44,27,74,0.12);}
    nav ul{display:flex;gap:8px;list-style:none;margin:0;padding:0;align-items:center;flex-wrap:wrap;}
    nav a{padding:12px 24px;border-radius:20px;font-weight:500;color:var(--amethyst);text-decoration:none;font-size:0.9rem;transition:all 0.4s var(--ease);white-space:nowrap;display:flex;align-items:center;}
    nav a.active,nav a:hover{background:rgba(232,180,184,0.15);color:var(--amethyst);box-shadow:0 8px 24px rgba(232,180,184,0.2);}
    
    /* üîç SEARCH + HAMBURGER */
    .mobile-nav{display:none;align-items:center;gap:12px;}
    .search-btn,.hamburger{background:none;border:none;font-size:1.6rem;color:var(--amethyst);cursor:pointer;padding:12px;border-radius:20px;transition:all 0.3s ease;display:flex;align-items:center;justify-content:center;min-width:48px;min-height:48px;}
    .search-btn:hover,.hamburger:hover{background:rgba(44,27,74,0.08);}
    
    @media(max-width:768px){
      .mobile-nav{display:flex;}
      nav{display:none;}
      header.menu-open nav{display:flex;flex-direction:column;position:absolute;top:100%;left:0;right:0;background:rgba(248,246,249,0.98);backdrop-filter:blur(40px);border-top:1px solid rgba(44,27,74,0.08);padding:24px 5%;margin-top:4px;border-radius:0 0 24px 24px;}
      header.menu-open nav ul{flex-direction:column;width:100%;gap:12px;}
      nav a{display:block;text-align:center;padding:20px;width:100%;border-radius:16px;font-size:1rem;}
      .logo{height:42px;}
    }

    /* ‚úÖ FIXED COUNTDOWN */
    .countdown-container{position:fixed;top:84px;right:20px;z-index:900;max-width:240px;}
    @media(max-width:768px){.countdown-container{top:80px;right:16px;max-width:200px;}}
    @media(max-width:480px){.countdown-container{top:76px;right:12px;max-width:170px;}}
    .countdown-card{background:var(--pearl);backdrop-filter:blur(40px);padding:clamp(18px,5vw,24px) clamp(24px,6vw,32px);border-radius:24px;font-family:'Clash Display',serif;font-weight:700;font-size:clamp(1.1rem,3vw,1.4rem);color:var(--amethyst);box-shadow:var(--shadow-soft);border:1px solid rgba(44,27,74,0.08);text-align:center;}

    /* ‚úÖ PERFECT HERO */
    .hero{position:relative;min-height:100vh;padding:100px clamp(20px,5vw,8%) 80px;display:flex;align-items:center;justify-content:center;text-align:center;overflow:hidden;}
    @media(max-width:768px){.hero{padding:84px 16px 60px;min-height:90vh;}}
    .hero video{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:1;filter:brightness(0.7);}
    .hero::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(ellipse at 40% 20%,rgba(107,90,207,0.08) 0%,transparent 50%),radial-gradient(ellipse at 70% 80%,rgba(232,180,184,0.06) 0%,transparent 50%);z-index:2;}
    .hero-content{position:relative;z-index:3;max-width:900px;padding:0 clamp(20px,5vw,8%);}
    .hero-badge{position:absolute;top:clamp(60px,12vw,100px);left:50%;transform:translateX(-50%);background:linear-gradient(135deg,var(--rose-gold),var(--rose-gold-dark));color:var(--amethyst);padding:clamp(12px,3vw,20px) clamp(28px,7vw,40px);border-radius:999px;font-family:'Clash Display',serif;font-size:clamp(0.95rem,2.5vw,1.2rem);font-weight:700;letter-spacing:1px;box-shadow:var(--shadow-soft);animation:float-gentle 8s ease-in-out infinite;max-width:90vw;}
    .hero-title{font-family:'Clash Display',serif;font-size:clamp(3rem,10vw,8rem);font-weight:900;margin:0 0 clamp(20px,5vw,24px);line-height:0.9;background:linear-gradient(135deg,var(--amethyst),var(--amethyst-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:-1.5px;}
    .hero-subtitle{font-size:clamp(1.1rem,3vw,1.6rem);font-weight:200;max-width:700px;margin:0 auto clamp(40px,10vw,60px);opacity:0.9;line-height:1.6;}
    .hero-stats{position:absolute;bottom:clamp(40px,10vw,80px);left:50%;transform:translateX(-50%);display:flex;gap:clamp(16px,4vw,40px);flex-wrap:wrap;justify-content:center;}
    @media(max-width:480px){.hero-stats{flex-direction:column;align-items:center;gap:12px;}}
    .stat{background:var(--pearl);padding:clamp(20px,5vw,32px) clamp(32px,8vw,48px);border-radius:24px;border:1px solid rgba(44,27,74,0.06);min-width:clamp(140px,20vw,180px);text-align:center;transition:all 0.6s var(--ease);box-shadow:var(--shadow-soft);flex:1;max-width:clamp(160px,25vw,220px);}
    .stat:hover{transform:translateY(-8px) scale(1.02);background:linear-gradient(135deg,var(--pearl),rgba(237,232,245,0.8));}
    .stat-value{font-family:'Clash Display',serif;font-size:clamp(2rem,6vw,3rem);font-weight:900;color:var(--amethyst);display:block;margin-bottom:4px;}
    .stat-label{font-size:clamp(0.8rem,2.5vw,0.9rem);font-weight:300;letter-spacing:0.3px;opacity:0.8;}

    /* ‚úÖ VAULT SECTION */
    .vault{padding:clamp(80px,20vh,160px) clamp(20px,5vw,5%) clamp(60px,15vh,120px);max-width:var(--max-width);margin:0 auto;}
    .vault-title{font-family:'Clash Display',serif;font-size:clamp(2.5rem,8vw,5rem);text-align:center;margin:0 0 clamp(40px,10vw,100px);font-weight:900;background:linear-gradient(135deg,var(--amethyst),var(--amethyst-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:-0.5px;max-width:700px;margin-left:auto;margin-right:auto;}

    .auction-showcase{display:grid;grid-template-columns:1fr;gap:clamp(40px,10vw,100px);align-items:start;max-width:1000px;margin:0 auto;}
    @media(min-width:1100px){.auction-showcase{grid-template-columns:1fr 400px;}}

    /* ‚úÖ ARTISAN DISPLAY */
    .artisan-display{position:relative;height:clamp(400px,50vh,680px);max-width:600px;margin:0 auto;}
    .frame-glow{position:absolute;top:-16px;left:50%;transform:translateX(-50%);width:clamp(380px,55vw,580px);height:clamp(420px,60vh,720px);background:radial-gradient(circle,rgba(107,90,207,0.12) 0%,transparent 70%);border-radius:50%;animation:gentle-pulse 6s ease-in-out infinite;pointer-events:none;z-index:1;}
    .silk-frame{position:absolute;top:clamp(16px,4vw,20px);left:50%;transform:translateX(-50%);width:clamp(360px,50vw,520px);height:clamp(380px,55vh,640px);background:linear-gradient(135deg,rgba(248,246,249,0.95),rgba(237,232,245,0.9));border-radius:24px;box-shadow:var(--shadow-soft),inset 0 1px 0 rgba(255,255,255,0.8);backdrop-filter:blur(40px);border:1px solid rgba(44,27,74,0.08);transition:all 0.8s var(--ease);display:flex;align-items:center;justify-content:center;overflow:hidden;z-index:2;}
    .silk-frame:hover{transform:translateX(-50%) translateY(-12px) scale(1.01);}
    .silk-frame img{width:100%;height:100%;object-fit:cover;border-radius:20px;}
    .item-title{position:relative;font-family:'Clash Display',serif;font-size:clamp(1.6rem,4vw,2.2rem);color:var(--amethyst);font-weight:700;text-align:center;padding:clamp(16px,4vw,20px) clamp(28px,7vw,40px);background:var(--pearl);border-radius:20px;box-shadow:var(--shadow-soft);letter-spacing:-0.2px;margin-top:clamp(16px,4vw,20px);max-width:500px;margin-left:auto;margin-right:auto;}

    /* ‚úÖ SILK PANEL */
    .silk-panel{background:var(--pearl);backdrop-filter:blur(50px);border-radius:var(--radius);padding:clamp(32px,8vw,60px) clamp(24px,6vw,40px);border:1px solid rgba(44,27,74,0.08);box-shadow:var(--shadow-soft);height:fit-content;position:sticky;top:clamp(100px,25vh,140px);align-self:start;max-width:400px;width:100%;}
    @media(max-width:1100px){.silk-panel{position:relative;top:auto;}}
    .current-bid{font-family:'Clash Display',serif;font-size:clamp(2.5rem,8vw,4rem);font-weight:900;color:var(--rose-gold);text-align:center;margin-bottom:clamp(24px,6vw,40px);letter-spacing:-1px;}
    .bid-input-container{position:relative;margin-bottom:clamp(20px,5vw,32px);}
    .bid-input{border:none;border-radius:20px;padding:clamp(16px,4.5vw,20px) clamp(24px,6vw,28px);font-size:clamp(1.2rem,3.5vw,1.4rem);font-family:'Clash Display',serif;font-weight:500;background:var(--pearl);color:var(--amethyst);width:100%;box-shadow:var(--shadow-soft);backdrop-filter:blur(20px);border:1px solid rgba(44,27,74,0.06);transition:all 0.4s var(--ease);box-sizing:border-box;min-height:56px;}
    .bid-input::placeholder{color:var(--amethyst);opacity:0.4;}
    .bid-input:focus{outline:none;box-shadow:0 16px 48px rgba(44,27,74,0.1);transform:translateY(-2px);}
    .bid-btn{display:block;width:100%;padding:clamp(18px,5vw,24px);border:none;border-radius:24px;background:linear-gradient(135deg,var(--rose-gold),var(--rose-gold-dark));color:var(--amethyst);font-family:'Clash Display',serif;font-size:clamp(1.1rem,3vw,1.3rem);font-weight:700;letter-spacing:0.5px;cursor:pointer;box-shadow:var(--shadow-soft);transition:all 0.5s var(--ease);position:relative;overflow:hidden;text-transform:uppercase;text-decoration:none;min-height:64px;}
    .bid-btn:hover{transform:translateY(-4px) scale(1.01);box-shadow:0 28px 80px rgba(232,180,184,0.25);}

    /* ‚úÖ LEADERBOARD */
    .leaderboard{background:var(--pearl);backdrop-filter:blur(40px);border-radius:var(--radius);padding:clamp(32px,8vw,50px) clamp(24px,6vw,40px);border:1px solid rgba(44,27,74,0.08);box-shadow:var(--shadow-soft);margin-top:clamp(40px,10vw,80px);}
    .leaderboard-title{font-family:'Clash Display',serif;font-size:clamp(1.8rem,5vw,2.2rem);color:var(--amethyst);text-align:center;margin-bottom:clamp(24px,6vw,40px);font-weight:700;letter-spacing:-0.2px;}
    .leader-item{display:flex;justify-content:space-between;align-items:center;padding:clamp(20px,5vw,24px) 0;border-bottom:1px solid rgba(44,27,74,0.04);transition:all 0.4s var(--ease);}
    .leader-item:last-child{border-bottom:none;}
    .leader-item:hover{background:rgba(232,180,184,0.06);}
    .leader-rank{font-size:clamp(1.5rem,4vw,2rem);font-weight:900;color:var(--rose-gold);min-width:50px;flex-shrink:0;}
    .leader-name{font-weight:500;font-size:clamp(0.95rem,2.8vw,1rem);opacity:0.9;flex:1;}
    .leader-bid{font-family:'Clash Display',serif;font-size:clamp(1.3rem,3.5vw,1.6rem);font-weight:700;color:var(--amethyst);white-space:nowrap;}

    footer{padding:clamp(60px,15vh,120px) clamp(20px,5vw,5%) clamp(40px,10vh,60px);text-align:center;background:var(--pearl);color:var(--sage);border-top:1px solid rgba(44,27,74,0.06);font-size:clamp(0.85rem,2.5vw,0.9rem);font-weight:300;}
    .footer-links{display:flex;flex-wrap:wrap;justify-content:center;gap:16px;margin-top:20px;}
    .footer-links a{color:var(--amethyst);text-decoration:none;font-weight:500;font-size:clamp(0.85rem,2.5vw,0.9rem);}

    #toast{position:fixed;bottom:80px;left:50%;transform:translateX(-50%) translateY(100px);background:linear-gradient(135deg,var(--rose-gold),var(--rose-gold-dark));color:var(--amethyst);padding:clamp(14px,4vw,20px) clamp(28px,7vw,36px);border-radius:20px;font-weight:700;font-size:clamp(0.95rem,2.8vw,1rem);z-index:10000;transition:all 0.5s var(--ease);max-width:90vw;box-shadow:var(--shadow-soft);text-align:center;}
    #toast.show{transform:translateX(-50%) translateY(0);}

    @keyframes float-gentle{0%,100%{transform:translateX(-50%) translateY(0);}50%{transform:translateX(-50%) translateY(-8px);}}
    @keyframes gentle-pulse{0%,100%{opacity:0.7;transform:scale(1);}50%{opacity:1;transform:scale(1.02);}}
  </style>
</head>
<body>
  <!-- ‚úÖ FIXED MOBILE HEADER -->
  <header>
    <div class="header-inner">
      <div class="brand" onclick="location.href='index.html'">
        <img src="images/logo.final.png" class="logo" alt="Snehvastra"/>
        <div style="font-family:'Clash Display',serif;font-size:1.2rem;font-weight:600;color:var(--amethyst);">Snehvastra</div>
      </div>
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="collection.html">Collection</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="auction.html" class="active">Auction</a></li>
          <li><a href="cart.html">Cart (<span id="cartCount">0</span>)</a></li>
          <li id="authArea"></li>
        </ul>
      </nav>
      <div class="mobile-nav">
        <button class="search-btn" id="searchBtn">üîç</button>
        <button class="hamburger" id="hamburgerBtn">‚ò∞</button>
      </div>
    </div>
  </header>

  <!-- ‚úÖ FIXED COUNTDOWN -->
  <div class="countdown-container">
    <div class="countdown-card" id="countdown">Loading...</div>
  </div>

  <!-- ‚úÖ PERFECT HERO -->
  <section class="hero">
    <video autoplay muted loop playsinline poster="images/auction-poster.jpg">
      <source src="videos/auction-hero.mp4" type="video/mp4">
    </video>
    <div class="hero-badge">1/1 KOTA EDITION</div>
    <div class="hero-content">
      <h1 class="hero-title" data-aos="fade-up">SNEHVASTRA ONE</h1>
      <p class="hero-subtitle" data-aos="fade-up" data-aos-delay="200">
        Kota Studio ultimate artisan masterpiece. NFC-verified collector bidding.
      </p>
    </div>
    <div class="hero-stats">
      <div class="stat" data-aos="fade-up" data-aos-delay="400">
        <span class="stat-value">1/1</span>
        <span class="stat-label">Edition</span>
      </div>
      <div class="stat" data-aos="fade-up" data-aos-delay="600">
        <span class="stat-value">‚úì</span>
        <span class="stat-label">NFC</span>
      </div>
      <div class="stat" data-aos="fade-up" data-aos-delay="800">
        <span class="stat-value">1825</span>
        <span class="stat-label">Loom</span>
      </div>
    </div>
  </section>

  <!-- ‚úÖ VAULT -->
  <section class="vault">
    <h2 class="vault-title" data-aos="fade-up">KOTA VAULT</h2>
    <div class="auction-showcase">
      <div class="artisan-display" data-aos="zoom-in">
        <div class="frame-glow"></div>
        <div class="silk-frame">
          <img src="images/item-bomber.jpg" alt="Kota Bomber">
        </div>
        <h3 class="item-title">Kota Bomber ‚Äî Olive</h3>
      </div>

      <div class="silk-panel" data-aos="fade-left">
        <div class="current-bid" id="currentBid">‚Çπ47,200</div>
        <div class="bid-input-container">
          <input type="number" class="bid-input" id="bidInput" placeholder="‚Çπ48,000+" min="48000">
        </div>
        <button class="bid-btn" onclick="placeBid()">Place Bid</button>
      </div>
    </div>
  </section>

  <!-- ‚úÖ LEADERBOARD -->
  <section class="leaderboard" data-aos="fade-up">
    <h3 class="leaderboard-title">Live Bids</h3>
    <div id="leaderboard"></div>
  </section>

  <!-- ‚úÖ FOOTER + NFC STORY -->
  <footer>
    ¬© <span id="year"></span> Snehvastra. Kota Studio Auction.
    <div class="footer-links">
      <a href="nfc-story.html">NFC Story</a>
      <a href="terms.html">Terms</a>
      <a href="privacy.html">Privacy</a>
    </div>
  </footer>

  <div id="toast"></div>

  <script>
    // ‚úÖ BULLETPROOF AUCTION SYSTEM (MOBILE LOCKED)
    (function(){
      const USER_KEY = "snehvastra_user"; 
      const CART_KEY = "snehvastra_cart";
      let cart = {}, user = null;

      // SAFE STORAGE
      function safeGet(key, fallback) {
        try {
          return JSON.parse(localStorage.getItem(key) || fallback);
        } catch(e) {
          return fallback;
        }
      }

      window.renderAuth = function(){
        const authArea = document.getElementById("authArea");
        if(!authArea) return;
        user = safeGet(USER_KEY, null);
        if(user && user.loggedIn) {
          authArea.innerHTML = `<span style="color:var(--rose-gold);font-weight:600;font-family:'Clash Display',serif;font-size:0.9rem;">Hi, ${user.name?.split(' ')[0]}</span>`;
        } else {
          authArea.innerHTML = `<a href="user-login.html" style="padding:10px 20px;border:2px solid var(--rose-gold);color:var(--rose-gold);border-radius:20px;font-weight:500;font-size:0.85rem;">Login to Bid</a>`;
        }
      };

      function updateCartCount(){
        const total = Object.values(cart).reduce((a,b)=>a+(b||0),0);
        const cartEl = document.getElementById("cartCount");
        if(cartEl) cartEl.textContent = total || 0;
      }

      function showToast(msg) {
        const toast = document.getElementById("toast");
        if(toast){
          toast.textContent = msg;
          toast.classList.add("show");
          setTimeout(()=>toast.classList.remove("show"), 3000);
        }
      }

      // MOBILE NAV
      document.getElementById("hamburgerBtn")?.addEventListener("click", ()=>{
        document.querySelector("header").classList.toggle("menu-open");
      });

      // AUCTION SYSTEM
      let currentBid = 47200;
      let leaderboard = [
        {name:"arun_v", bid:125000},
        {name:"priya.k", bid:102800},
        {name:"nikhil_design", bid:92800},
        {name:"rahul_c", bid:87500}
      ];

      window.placeBid = function(){
        if(!user?.loggedIn) {
          showToast("Login to bid");
          return;
        }
        const input = document.getElementById("bidInput");
        const val = parseInt(input.value);
        if(!val || val <= currentBid || isNaN(val)){
          showToast(`Bid > ‚Çπ${currentBid.toLocaleString()}`);
          input.focus();
          return;
        }
        currentBid = val;
        document.getElementById("currentBid").textContent = "‚Çπ" + val.toLocaleString();
        leaderboard.unshift({name:"YOU", bid:val});
        leaderboard.sort((a,b)=>b.bid-a.bid);
        if(leaderboard.length > 5) leaderboard.splice(5);
        renderLeaderboard();
        input.value = "";
        input.placeholder = `‚Çπ${(val+1000).toLocaleString()}+`;
        showToast("Bid placed ‚úì");
        if(typeof gsap !== 'undefined'){
          gsap.from("#currentBid", {scale:1.1, duration:0.3, yoyo:true, repeat:1});
        }
      };

      function renderLeaderboard(){
        const container = document.getElementById("leaderboard");
        if(!container) return;
        container.innerHTML = leaderboard.map((item,i) => `
          <div class="leader-item ${item.name==="YOU" ? "you" : ""}">
            <div style="display:flex;align-items:center;gap:16px;flex:1;">
              <div class="leader-rank">${i+1}.</div>
              <div class="leader-name">${item.name}</div>
            </div>
            <div class="leader-bid">‚Çπ${item.bid.toLocaleString()}</div>
          </div>
        `).join("");
      }

      // COUNTDOWN
      const auctionEnd = new Date("2025-12-25T18:00:00").getTime();
      function updateCountdown(){
        const diff = auctionEnd - Date.now();
        const countdownEl = document.getElementById("countdown");
        if(countdownEl && diff > 0){
          const days = Math.floor(diff/(1000*60*60*24));
          const hours = Math.floor((diff%(1000*60*60*24))/(1000*60*60));
          const mins = Math.floor((diff%(1000*60*60))/(1000*60));
          countdownEl.textContent = `${days}d ${hours.toString().padStart(2,'0')}h ${mins.toString().padStart(2,'0')}m`;
        } else if(countdownEl) {
          countdownEl.textContent = "LIVE!";
          countdownEl.style.background = "linear-gradient(135deg, var(--amethyst), var(--amethyst-light))";
        }
      }

      // ENTER KEY
      document.addEventListener('DOMContentLoaded', function(){
        const bidInput = document.getElementById('bidInput');
        if(bidInput){
          bidInput.addEventListener('keypress', function(e){
            if(e.key === 'Enter') placeBid();
          });
        }
      });

      // INIT
      function init(){
        cart = safeGet(CART_KEY, {});
        renderAuth();
        updateCartCount();
        renderLeaderboard();
        updateCountdown();
        setInterval(updateCountdown, 30000);
        document.getElementById("year").textContent = new Date().getFullYear();
        if(typeof AOS !== 'undefined') AOS.init({duration:1000, once:true});
      }

      if(document.readyState === 'loading'){
        document.addEventListener('DOMContentLoaded', init);
      } else {
        init();
      }
    })();
  </script>
</body>
</html>
