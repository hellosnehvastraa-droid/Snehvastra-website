<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Cart - Snehvastra</title>
  <meta name="theme-color" content="#ECD78F">
  <meta name="description" content="Snehvastra Shopping Cart - Echo Drops + One Auction." />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Clash+Display:wght@500;600&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />

  <style>
    :root {
      --bg-light-1: #FCFAF6;
      --bg-light-2: #FAF6E7;
      --text-dark: #4B4337;
      --muted-gold: #BFA658;
      --highlight-gold: #ECD78F;
      --max-w: 1100px;
      --radius: 14px;
      --transition-speed: 0.28s;
      --btn-gradient-start: #ECD78F;
      --btn-gradient-end: #FFF9DE;
      --btn-hover-gradient-start: #FFF9DE;
      --btn-hover-gradient-end: #ECD78F;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
    body {
      background: linear-gradient(180deg, var(--bg-light-1), var(--bg-light-2));
      color: var(--text-dark);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* HEADER - FULL SYNC */
    header {
      display: flex; justify-content: space-between; align-items: center;
      padding: 20px 5%; position: sticky; top: 0; background: rgba(252,250,246,0.95);
      backdrop-filter: blur(12px); z-index: 50; max-width: var(--max-w); margin: 0 auto;
      border-bottom: 1px solid var(--muted-gold); border-radius: 0 0 var(--radius) var(--radius);
    }
    .logo { height: 50px; width: auto; border-radius: 8px; }
    nav ul { display: flex; list-style: none; gap: 15px; flex-wrap: wrap; }
    nav ul li a {
      text-decoration: none; color: var(--muted-gold); font-size: 0.9rem; font-weight: 600;
      padding: 8px 14px; border-radius: 8px; transition: all var(--transition-speed) ease;
    }
    nav ul li a:hover, nav ul li a.active { color: var(--highlight-gold); background: rgba(236,215,143,0.15); }
    #cartCount { background: var(--highlight-gold); color: var(--text-dark); border-radius: 50%; padding: 2px 6px; font-size: 0.8rem; font-weight: 700; }

    /* AUCTION BANNER */
    .auction-banner {
      background: linear-gradient(135deg, var(--highlight-gold), var(--muted-gold));
      color: var(--text-dark); padding: 12px 20px; text-align: center; font-weight: 700;
      position: sticky; top: 72px; z-index: 40; box-shadow: 0 4px 20px rgba(236,215,143,0.3);
    }
    .auction-timer { font-family: 'Clash Display', serif; font-size: 0.85rem; background: rgba(255,255,255,0.9); padding: 4px 10px; border-radius: 12px; display: inline-block; margin-left: 8px; }

    /* MAIN */
    main { padding: 140px 5% 40px; max-width: var(--max-w); margin: 0 auto; }
    h1 {
      text-align: center; font-family: 'Clash Display', serif; font-size: 2.8rem; font-weight: 600;
      letter-spacing: 1.5px; margin-bottom: 40px; background: linear-gradient(90deg, var(--muted-gold), var(--highlight-gold));
      -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
    }

    /* ðŸ”¥ CART TABLE - FULLY FUNCTIONAL */
    .cart-empty {
      text-align: center; padding: 80px 20px; color: rgba(75,67,55,0.6);
      font-size: 1.1rem; background: rgba(255,255,255,0.5); border-radius: var(--radius);
      border: 2px dashed var(--muted-gold);
    }
    .cart-table {
      width: 100%; background: rgba(255,255,255,0.8); border-radius: var(--radius);
      overflow: hidden; box-shadow: 0 12px 40px rgba(189,166,97,0.15); border: 1px solid var(--muted-gold);
    }
    .cart-table th, .cart-table td {
      padding: 20px; text-align: left; border-bottom: 1px solid rgba(189,166,97,0.1);
    }
    .cart-table th { background: linear-gradient(90deg, var(--btn-gradient-start), var(--btn-gradient-end)); font-weight: 700; color: var(--text-dark); }
    .cart-item-image {
      width: 80px; height: 80px; background: #f0f0f0; border: 2px dashed #ddd; border-radius: 8px;
      display: flex; align-items: center; justify-content: center; color: #999; font-size: 12px;
    }
    .cart-item-image::before { content: "IMAGE"; font-weight: bold; text-transform: uppercase; }
    .price { font-weight: 900; color: var(--highlight-gold); font-size: 1.1rem; }
    .quantity-controls {
      display: flex; align-items: center; gap: 10px; background: rgba(252,250,246,0.5);
      padding: 8px 12px; border-radius: 25px; border: 1px solid var(--muted-gold);
    }
    .qty-btn { width: 32px; height: 32px; border: none; background: var(--highlight-gold); color: var(--text-dark); border-radius: 50%; cursor: pointer; font-weight: 700; }
    .qty-btn:hover { background: var(--muted-gold); transform: scale(1.05); }
    .remove-btn {
      background: #ff6b6b; color: white; border: none; padding: 10px 20px; border-radius: 25px;
      font-weight: 700; cursor: pointer; transition: all 0.3s ease;
    }
    .remove-btn:hover { background: #ff5252; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(255,107,107,0.4); }

    /* TOTALS */
    .cart-totals {
      background: rgba(255,255,255,0.9); border-radius: var(--radius); padding: 30px;
      border: 1px solid var(--muted-gold); margin-top: 40px; box-shadow: 0 12px 40px rgba(189,166,97,0.15);
    }
    .total-row { display: flex; justify-content: space-between; margin-bottom: 12px; font-size: 1.1rem; }
    .total-row.final { font-size: 1.6rem; font-weight: 900; color: var(--highlight-gold); margin-top: 20px; border-top: 2px solid var(--muted-gold); padding-top: 20px; }

    /* CHECKOUT BUTTONS */
    .checkout-actions { display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin-top: 30px; }
    .btn { 
      padding: 16px 32px; border: none; border-radius: 12px; font-weight: 700; cursor: pointer;
      font-family: 'Poppins', sans-serif; transition: all 0.3s ease; text-decoration: none; display: inline-block;
    }
    .btn-primary {
      background: linear-gradient(90deg, var(--btn-gradient-start), var(--btn-gradient-end));
      color: var(--text-dark); box-shadow: 0 8px 25px rgba(236,215,143,0.4);
    }
    .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 15px 40px rgba(236,215,143,0.6); }
    .btn-secondary {
      background: transparent; border: 2px solid var(--muted-gold); color: var(--muted-gold);
    }
    .btn-secondary:hover { background: var(--muted-gold); color: white; transform: translateY(-2px); }

    /* TOAST */
    .toast {
      position: fixed; top: 100px; right: 20px; background: linear-gradient(90deg, var(--btn-gradient-start), var(--btn-gradient-end));
      color: var(--text-dark); padding: 16px 24px; border-radius: 12px; box-shadow: 0 10px 35px rgba(236,215,143,0.4);
      font-weight: 600; z-index: 1000; transform: translateX(400px); transition: transform 0.3s ease;
      max-width: 320px;
    }
    .toast.show { transform: translateX(0); }

    /* WHATSAPP */
    .whatsapp-float {
      position: fixed; bottom: 24px; right: 24px; width: 60px; height: 60px;
      background: linear-gradient(135deg, var(--muted-gold), var(--highlight-gold)); border-radius: 50%;
      display: flex; align-items: center; justify-content: center; font-size: 1.6rem; color: var(--text-dark);
      box-shadow: 0 10px 30px rgba(191,166,88,0.4); z-index: 999; text-decoration: none;
    }

    /* RESPONSIVE */
    @media (max-width: 768px) {
      .cart-table { font-size: 0.9rem; }
      .cart-table th, .cart-table td { padding: 15px 10px; }
      .cart-item-image { width: 60px; height: 60px; font-size: 10px; }
      .quantity-controls { gap: 5px; padding: 6px 8px; }
      .checkout-actions { flex-direction: column; align-items: center; }
      .btn { width: 100%; max-width: 300px; text-align: center; }
    }

    footer {
      text-align: center; padding: 50px 5%; background: rgba(252,250,246,0.85); margin-top: 80px;
      color: rgba(75,67,55,0.8); border-top: 1px solid var(--muted-gold); font-size: 0.95rem;
    }
  </style>
</head>

<body>
  <!-- HEADER -->
  <header>
    <img src="images/logo.final.png" alt="Snehvastra Logo" class="logo" />
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="collection.html">Collection</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="wishlist.html">Wishlist</a></li>
        <li><a href="cart.html" class="active">Cart (<span id="cartCount">0</span>)</a></li>
        <li><a href="user-login.html">Login</a></li>
      </ul>
    </nav>
  </header>

  <!-- AUCTION BANNER -->
  <div class="auction-banner">
    ðŸ”¥ SNEHVASTRA ONE AUCTION <div class="auction-timer" id="auctionTimer">Loading...</div>
  </div>

  <main>
    <h1>Your Cart</h1>

    <!-- ðŸ”¥ DYNAMIC CART TABLE -->
    <div id="cartContainer">
      <div class="cart-empty">Your cart is empty. <a href="collection.html" style="color: var(--highlight-gold);">Continue Shopping</a></div>
    </div>

    <!-- TOTALS -->
    <div id="totalsSection" class="cart-totals" style="display: none;">
      <div class="total-row"><span>Subtotal:</span> <span id="subtotal">â‚¹0</span></div>
      <div class="total-row"><span>Shipping:</span> <span>â‚¹0</span></div>
      <div class="total-row final"><span>Total:</span> <span id="total">â‚¹0</span></div>
      <div class="checkout-actions">
        <a href="https://wa.me/919876543210?text=Hi! Checkout my cart: â‚¹<span id="whatsappTotal">0</span>" class="btn btn-primary" id="whatsappCheckout">Checkout via WhatsApp</a>
        <button class="btn btn-secondary" onclick="clearCart()">Clear Cart</button>
      </div>
    </div>
  </main>

  <footer>
    Â© <span id="currentYear"></span> Snehvastra. All Rights Reserved. â€¢
    <span style="opacity: 0.85;">Instagram: <strong>@sneh_vastra</strong></span>
  </footer>

  <!-- TOAST + WHATSAPP -->
  <div id="toast" class="toast"></div>
  <a href="https://wa.me/919876543210?text=ðŸ”¥ Snehvastra Cart Checkout!" class="whatsapp-float" target="_blank">ðŸ’¬</a>

  <!-- ðŸ”¥ FULLY SYNCED SCRIPT [web:155] -->
  <script>
    // GLOBAL CART - INDEX/COLLECTION SYNC
    let cart = JSON.parse(localStorage.getItem('snehvastra_cart')) || {};
    
    // UPDATE CART COUNT (ALL PAGES)
    function updateCartCount() {
      const totalItems = Object.values(cart).reduce((sum, qty) => sum + qty, 0);
      document.getElementById('cartCount').textContent = totalItems;
      return totalItems;
    }

    // TOAST SYSTEM
    function showToast(message, duration = 3000) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), duration);
    }

    // RENDER CART
    function renderCart() {
      const container = document.getElementById('cartContainer');
      const totalsSection = document.getElementById('totalsSection');
      const items = Object.entries(cart);
      
      if (items.length === 0) {
        container.innerHTML = '<div class="cart-empty">Your cart is empty. <a href="collection.html" style="color: var(--highlight-gold);">Continue Shopping</a></div>';
        totalsSection.style.display = 'none';
        return;
      }

      let cartHTML = `
        <table class="cart-table">
          <thead>
            <tr>
              <th>Product</th>
              <th>Price</th>
              <th>Quantity</th>
              <th>Total</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
      `;

      let subtotal = 0;
      
      // PRODUCT DATA MAPPING (SYNC WITH COLLECTION)
      const products = {
        '1': { name: 'Streetwear Fusion Tee', price: 499 },
        '2': { name: 'Luxury Midnight Jacket', price: 2999 },
        '3': { name: 'Casual Cloud Hoodie', price: 1999 },
        '4': { name: 'Tech Overshirt', price: 4999 }
      };

      items.forEach(([id, qty]) => {
        const product = products[id] || { name: 'Unknown Item', price: 0 };
        const itemTotal = product.price * qty;
        subtotal += itemTotal;
        
        cartHTML += `
          <tr>
            <td>
              <div style="display: flex; gap: 12px; align-items: center;">
                <div class="cart-item-image"></div>
                <div>
                  <div style="font-weight: 600;">${product.name}</div>
                  <div style="font-size: 0.85rem; color: var(--muted-gold);">ID: ${id}</div>
                </div>
              </div>
            </td>
            <td><div class="price">â‚¹${product.price.toLocaleString()}</div></td>
            <td>
              <div class="quantity-controls">
                <button class="qty-btn" onclick="updateQuantity('${id}', -1)">âˆ’</button>
                <span style="min-width: 24px; text-align: center; font-weight: 700;">${qty}</span>
                <button class="qty-btn" onclick="updateQuantity('${id}', 1)">+</button>
              </div>
            </td>
            <td><div class="price">â‚¹${itemTotal.toLocaleString()}</div></td>
            <td><button class="remove-btn" onclick="removeItem('${id}')">Remove</button></td>
          </tr>
        `;
      });

      cartHTML += '</tbody></table>';
      container.innerHTML = cartHTML;

      // UPDATE TOTALS
      document.getElementById('subtotal').textContent = `â‚¹${subtotal.toLocaleString()}`;
      document.getElementById('total').textContent = `â‚¹${subtotal.toLocaleString()}`;
      document.getElementById('whatsappTotal').textContent = subtotal.toLocaleString();
      totalsSection.style.display = 'block';
    }

    // UPDATE QUANTITY
    function updateQuantity(id, change) {
      cart[id] = Math.max(0, (cart[id] || 0) + change);
      if (cart[id] === 0) delete cart[id];
      localStorage.setItem('snehvastra_cart', JSON.stringify(cart));
      updateCartCount();
      renderCart();
      showToast('Cart updated!');
    }

    // REMOVE ITEM
    function removeItem(id) {
      delete cart[id];
      localStorage.setItem('snehvastra_cart', JSON.stringify(cart));
      updateCartCount();
      renderCart();
      showToast('Item removed from cart!');
    }

    // CLEAR CART
    function clearCart() {
      if (confirm('Clear entire cart?')) {
        cart = {};
        localStorage.setItem('snehvastra_cart', JSON.stringify(cart));
        updateCartCount();
        renderCart();
        showToast('Cart cleared!');
      }
    }

    // AUCTION COUNTDOWN
    const auctionDate = new Date('2025-12-01T18:00:00').getTime();
    setInterval(() => {
      const now = new Date().getTime();
      const diff = auctionDate - now;
      const timer = document.getElementById('auctionTimer');
      if (timer && diff > 0) {
        const d = Math.floor(diff / 86400000);
        const h = Math.floor((diff % 86400000) / 3600000);
        const m = Math.floor((diff % 3600000) / 60000);
        const s = Math.floor((diff % 60000) / 1000);
        timer.textContent = `${d}d ${h}h ${m}m ${s}s`;
      } else if (timer) {
        timer.textContent = 'LIVE NOW!';
      }
    }, 1000);

    // INIT
    window.addEventListener('load', () => {
      updateCartCount();
      renderCart();
      document.getElementById('currentYear').textContent = new Date().getFullYear();
    });
  </script>
</body>
</html>
