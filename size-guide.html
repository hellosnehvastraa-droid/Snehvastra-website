<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <meta name="theme-color" content="#3A0F5A" />
  <title>Size Guide â€” Snehvastra</title>
  <meta name="description" content="Snehvastra size guide â€” smart recommender, measurement guide, inches/cm, and fit vibes (tailored, relaxed, oversize)." />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Clash+Display:wght@500;600&family=Poppins:wght@400;500;600,700&display=swap" rel="stylesheet" />

  <style>
    :root{
      --purple:#3A0F5A; --accent:#7B5CC7; --slate:#22232A; --mid:#3B3D45; --paper:#FBFAF8;
      --muted:#9EA0A6; --radius:14px; --ease:.28s; --max-w:1100px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:'Poppins',sans-serif;background:linear-gradient(180deg,var(--paper),#f9f7fb);color:var(--slate);-webkit-font-smoothing:antialiased}
    header{position:sticky;top:0;background:linear-gradient(180deg,rgba(255,255,255,0.98),rgba(255,255,255,0.96));border-bottom:1px solid rgba(0,0,0,0.04);z-index:90}
    .topbar{display:flex;align-items:center;justify-content:space-between;padding:14px 20px;max-width:var(--max-w);margin:0 auto}
    .logo{height:46px}
    nav ul{display:flex;gap:12px;align-items:center;list-style:none;margin:0;padding:0}
    nav a{color:var(--muted);text-decoration:none;padding:8px 10px;border-radius:8px;transition:all .18s}
    nav a.active{color:var(--purple);background:rgba(58,15,90,0.04)}

    main{max-width:var(--max-w);margin:0 auto;padding:120px 20px 80px}
    .hero{background:#fff;border-radius:var(--radius);padding:48px;box-shadow:0 20px 60px rgba(58,15,90,0.06);text-align:center;margin-bottom:32px}
    .hero h1{font-family:'Clash Display',serif;font-size:2.4rem;margin:0;color:var(--purple)}
    .hero p{color:var(--mid);margin-top:14px;font-size:1.05rem;max-width:860px;margin-left:auto;margin-right:auto}

    .grid{display:grid;grid-template-columns:1fr 420px;gap:28px;align-items:start}
    @media(max-width:980px){.grid{grid-template-columns:1fr;}.hero{padding:32px}}

    /* Left column */
    .panel{background:#fff;border-radius:12px;padding:22px;border:1px solid rgba(34,35,42,0.04);box-shadow:0 12px 36px rgba(58,15,90,0.04)}
    .tabs{display:flex;gap:10px;margin-bottom:18px;flex-wrap:wrap}
    .tab{padding:10px 16px;border-radius:999px;background:rgba(58,15,90,0.04);cursor:pointer;font-weight:700;transition:all var(--ease)}
    .tab.active{background:linear-gradient(135deg,var(--purple),#2e0b4a);color:#fff;transform:translateY(-2px)}

    .size-table{width:100%;border-collapse:collapse;margin-top:8px}
    .size-table th{background:linear-gradient(135deg,var(--purple),#2e0b4a);color:#fff;padding:12px 10px;font-weight:700;text-align:left;font-family:'Clash Display',serif}
    .size-table td{padding:12px 10px;border-bottom:1px solid rgba(58,15,90,0.05)}
    .note{font-size:0.92rem;color:var(--muted);margin-top:8px}

    /* Right column - recommender */
    .reco{position:sticky;top:110px}
    .reco .panel{padding:20px}
    .reco h3{margin:0 0 8px;color:var(--purple);font-family:'Clash Display',serif}
    .reco small{display:block;color:var(--muted);margin-bottom:12px}

    .form-row{display:flex;gap:10px;margin-bottom:10px}
    .form-row input,.form-row select{flex:1;padding:12px;border-radius:8px;border:1px solid rgba(34,35,42,0.06);font-size:0.95rem}
    .vibe-row{display:flex;gap:8px;margin:12px 0;flex-wrap:wrap}
    .vibe{padding:8px 12px;border-radius:999px;border:1px solid rgba(34,35,42,0.06);cursor:pointer}
    .vibe.active{background:linear-gradient(135deg,var(--accent),var(--purple));color:#fff;transform:translateY(-2px)}

    .recommendation{margin-top:14px;padding:12px;border-radius:10px;background:linear-gradient(180deg,#fff,#fbfbff);border:1px solid rgba(58,15,90,0.05)}
    .recommendation strong{color:var(--purple);font-size:1.1rem}

    .fit-visual{display:flex;gap:12px;margin-top:16px;align-items:center}
    .silhouette{width:72px;height:160px;border-radius:8px;background:linear-gradient(180deg,#fff,#f5f3fb);display:flex;align-items:center;justify-content:center;border:1px solid rgba(34,35,42,0.04)}
    .silhouette svg{width:60px;height:125px}

    .actions{display:flex;gap:10px;margin-top:14px}
    .btn{padding:12px 16px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
    .btn.primary{background:linear-gradient(135deg,var(--purple),#2e0b4a);color:#fff}
    .btn.ghost{background:transparent;border:1px solid rgba(58,15,90,0.06);color:var(--slate)}

    .download-row{margin-top:12px;display:flex;gap:8px;flex-wrap:wrap}

    /* Measure guide */
    .measure-guide{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:18px}
    .step{background:linear-gradient(180deg,#fff,#fbfbff);padding:12px;border-radius:10px;text-align:center;border:1px solid rgba(58,15,90,0.04)}
    .step .num{width:40px;height:40px;border-radius:50%;background:var(--purple);color:#fff;display:inline-flex;align-items:center;justify-content:center;font-weight:800;margin-bottom:8px}

    .small{font-size:0.88rem;color:var(--muted)}

    footer{padding:28px;text-align:center;border-top:1px solid rgba(183,185,189,0.06);color:var(--muted);margin-top:34px}

    /* Toast */
    .toast{position:fixed;top:18px;right:18px;background:linear-gradient(180deg,var(--purple),#2e0b4a);color:#fff;padding:12px 16px;border-radius:10px;transform:translateX(400px);transition:transform .3s;z-index:200}
    .toast.show{transform:translateX(0)}

    @media(max-width:980px){
      .grid{grid-template-columns:1fr}
      .reco{position:static;top:auto}
      .measure-guide{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
  <header>
    <div class="topbar">
      <div style="display:flex;align-items:center;gap:14px">
        <img src="images/logo.final.png" alt="Snehvastra" class="logo" />
        <nav aria-label="Main navigation">
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="collection.html">Collection</a></li>
            <li><a href="size-guide.html" class="active">Size Guide</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </nav>
      </div>
      <div>Cart (<span id="cartCount">0</span>)</div>
    </div>
  </header>

  <main>
    <section class="hero">
      <h1>Find your perfect fit â€” quickly.</h1>
      <p>
        We combined artisan accuracy with modern recommendations.
        Enter your details, choose a vibe (Tailored / Relaxed / Oversize) and get a size with a confidence score â€” plus measurement tips to guarantee fit.
      </p>
    </section>

    <div class="grid">
      <!-- LEFT: tables & guides -->
      <div>
        <div class="panel">
          <div class="tabs" role="tablist" aria-label="Product type tabs">
            <div class="tab active" role="tab" data-target="tees-table" aria-selected="true">ðŸ‘• Tees</div>
            <div class="tab" role="tab" data-target="bombers-table" aria-selected="false">ðŸ§¥ Bombers</div>
            <div class="tab" role="tab" data-target="hoodies-table" aria-selected="false">ðŸ§¥ Hoodies</div>
          </div>

          <!-- Tees -->
          <div id="table-wrap">
            <table class="size-table" id="tees-table">
              <thead>
                <tr>
                  <th>Size</th>
                  <th>Chest (in / cm)</th>
                  <th>Length (in / cm)</th>
                  <th>Shoulder (in / cm)</th>
                  <th>Best for</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>XS</td><td>36" / 91cm</td><td>26" / 66cm</td><td>16" / 41cm</td><td class="small">Slim fit</td></tr>
                <tr><td>S</td><td>38" / 97cm</td><td>27" / 69cm</td><td>17" / 43cm</td><td class="small">Standard</td></tr>
                <tr><td>M</td><td>40" / 102cm</td><td>28" / 71cm</td><td>18" / 46cm</td><td class="small">Most popular</td></tr>
                <tr><td>L</td><td>42" / 107cm</td><td>29" / 74cm</td><td>19" / 48cm</td><td class="small">Relaxed</td></tr>
                <tr><td>XL</td><td>44" / 112cm</td><td>30" / 76cm</td><td>20" / 51cm</td><td class="small">Layering</td></tr>
                <tr><td>XXL</td><td>46" / 117cm</td><td>31" / 79cm</td><td>21" / 53cm</td><td class="small">Oversize</td></tr>
              </tbody>
            </table>

            <!-- Bombers -->
            <table class="size-table" id="bombers-table" style="display:none;margin-top:14px">
              <thead>
                <tr><th>Size</th><th>Chest</th><th>Length</th><th>Shoulder</th><th>Best for</th></tr>
              </thead>
              <tbody>
                <tr><td>XS</td><td>38" / 97cm</td><td>25" / 64cm</td><td>17" / 43cm</td><td class="small">Slim</td></tr>
                <tr><td>S</td><td>40" / 102cm</td><td>26" / 66cm</td><td>18" / 46cm</td><td class="small">Standard</td></tr>
                <tr><td>M</td><td>42" / 107cm</td><td>27" / 69cm</td><td>19" / 48cm</td><td class="small">Popular</td></tr>
                <tr><td>L</td><td>44" / 112cm</td><td>28" / 71cm</td><td>20" / 51cm</td><td class="small">Relaxed</td></tr>
                <tr><td>XL</td><td>46" / 117cm</td><td>29" / 74cm</td><td>21" / 53cm</td><td class="small">Layering</td></tr>
                <tr><td>XXL</td><td>48" / 122cm</td><td>30" / 76cm</td><td>22" / 56cm</td><td class="small">Oversize</td></tr>
              </tbody>
            </table>

            <!-- Hoodies -->
            <table class="size-table" id="hoodies-table" style="display:none;margin-top:14px">
              <thead>
                <tr><th>Size</th><th>Chest</th><th>Length</th><th>Shoulder</th><th>Best for</th></tr>
              </thead>
              <tbody>
                <tr><td>XS</td><td>40" / 102cm</td><td>27" / 69cm</td><td>18" / 46cm</td><td class="small">Slim</td></tr>
                <tr><td>S</td><td>42" / 107cm</td><td>28" / 71cm</td><td>19" / 48cm</td><td class="small">Standard</td></tr>
                <tr><td>M</td><td>44" / 112cm</td><td>29" / 74cm</td><td>20" / 51cm</td><td class="small">Popular</td></tr>
                <tr><td>L</td><td>46" / 117cm</td><td>30" / 76cm</td><td>21" / 53cm</td><td class="small">Relaxed</td></tr>
                <tr><td>XL</td><td>48" / 122cm</td><td>31" / 79cm</td><td>22" / 56cm</td><td class="small">Layering</td></tr>
                <tr><td>XXL</td><td>50" / 127cm</td><td>32" / 81cm</td><td>23" / 58cm</td><td class="small">Oversize</td></tr>
              </tbody>
            </table>
          </div>

          <p class="note">Tip: Measurements are garment-flat (not body). For best results â€” measure a similar item that fits you well and compare to our table.</p>
        </div>

        <div class="panel" style="margin-top:18px">
          <h3 style="margin:0 0 8px;color:var(--purple);font-family:'Clash Display',serif">How to measure â€” quick photo guide</h3>
          <div class="measure-guide" aria-hidden="false">
            <div class="step">
              <div class="num">1</div>
              <strong>Chest</strong><br>
              Lay flat, measure underarm â†’ underarm, multiply Ã—2.
            </div>
            <div class="step">
              <div class="num">2</div>
              <strong>Length</strong><br>
              Measure from highest shoulder seam to hem.
            </div>
            <div class="step">
              <div class="num">3</div>
              <strong>Shoulder</strong><br>
              Seam to seam across the back.
            </div>
          </div>

          <p class="small" style="margin-top:12px">Pro tip: If your chest measurement is between two sizes and you like layering, choose the larger size. Prefer fitted? pick the smaller size.</p>
        </div>
      </div>

      <!-- RIGHT: recommender -->
      <aside class="reco">
        <div class="panel" aria-label="Size recommender">
          <h3>Smart Size Recommender</h3>
          <small>Height, weight â†’ instant size. Choose your vibe to tune the result.</small>

          <div style="margin-top:10px">
            <div class="form-row">
              <input id="heightInput" type="number" min="120" max="230" placeholder="Height (cm)" aria-label="Height in centimeters" />
              <input id="weightInput" type="number" min="30" max="200" placeholder="Weight (kg)" aria-label="Weight in kilograms"/>
            </div>

            <div class="form-row">
              <select id="bodyType" aria-label="Body type">
                <option value="average">Average</option>
                <option value="athletic">Athletic</option>
                <option value="slim">Slim</option>
                <option value="curvy">Curvy</option>
              </select>
              <select id="productType" aria-label="Product type">
                <option value="tees">Tees</option>
                <option value="bombers">Bombers</option>
                <option value="hoodies">Hoodies</option>
              </select>
            </div>

            <div style="margin-top:8px">
              <div class="small">Choose fit vibe</div>
              <div class="vibe-row" role="radiogroup" aria-label="Fit vibe">
                <div class="vibe active" data-vibe="tailored">Tailored</div>
                <div class="vibe" data-vibe="relaxed">Relaxed</div>
                <div class="vibe" data-vibe="oversize">Oversize</div>
              </div>
            </div>

            <div class="actions">
              <button class="btn primary" id="recommendBtn">Recommend Size</button>
              <button class="btn ghost" id="measureConvert">in â†” cm</button>
            </div>

            <div class="recommendation" id="resultBox" aria-live="polite" style="display:none">
              <div id="resultText"><strong>Recommended:</strong> <span id="recSize">â€”</span></div>
              <div style="margin-top:8px" id="confidence">Confidence: â€”</div>

              <div class="fit-visual" aria-hidden="true">
                <div class="silhouette">
                  <!-- small svg for quick visual -->
                  <svg viewBox="0 0 80 160" xmlns="http://www.w3.org/2000/svg">
                    <g id="silhouetteBody">
                      <rect x="24" y="20" width="32" height="88" rx="8" fill="#eee" />
                      <rect x="28" y="108" width="24" height="30" rx="6" fill="#ddd" />
                    </g>
                  </svg>
                </div>
                <div style="flex:1">
                  <div class="small">How it will fit</div>
                  <div id="fitAdvice" class="small" style="margin-top:6px;color:var(--mid)">â€”</div>
                </div>
              </div>

              <div style="margin-top:12px">
                <button class="btn primary" id="applySizeBtn">Use this size</button>
                <button class="btn ghost" id="copyBtn">Copy recommendation</button>
              </div>

              <div class="download-row">
                <button class="btn ghost" id="downloadCSV">Download measurement sheet</button>
                <button class="btn ghost" id="saveProfile">Save profile</button>
              </div>
            </div>

            <p class="small" style="margin-top:10px">Why this works: we combine BMI-ish rules, height-based tall/short tweaks, and your fit vibe â€” a human-first recommender designed to lower returns.</p>
          </div>
        </div>

        <div class="panel" style="margin-top:14px">
          <h3 style="margin:0 0 6px;color:var(--purple);font-family:'Clash Display',serif">Size Confidence & Popularity</h3>
          <small class="small">What others choose â€” helps you decide</small>
          <div style="margin-top:12px">
            <div style="display:flex;gap:8px;align-items:center">
              <div style="width:8px;height:8px;background:#b6a9e6;border-radius:50%"></div>
              <div class="small">Most customers (M) â€” 42%</div>
            </div>
            <div style="display:flex;gap:8px;align-items:center;margin-top:8px">
              <div style="width:8px;height:8px;background:#9ee6b6;border-radius:50%"></div>
              <div class="small">Buy one size up for layering â€” 28%</div>
            </div>
          </div>

          <div style="margin-top:12px">
            <a href="contact.html" class="btn primary" style="width:100%;text-align:center">Need personal sizing help</a>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <div id="toast" class="toast" role="status" aria-live="polite" style="display:none"></div>

  <footer>
    Â© <span id="currentYear"></span> Snehvastra. All Rights Reserved. â€¢ Need help? <a href="contact.html">Contact us</a>
  </footer>

  <script>
    // Cart count (sync with other pages)
    let cart = JSON.parse(localStorage.getItem('snehvastra_cart')) || {};
    function updateCartCount(){ document.getElementById('cartCount').textContent = Object.values(cart).reduce((s,q)=>s+q,0) || 0; }
    window.addEventListener('load', updateCartCount);
    document.getElementById('currentYear').textContent = new Date().getFullYear();

    // Tabs
    document.querySelectorAll('.tab').forEach(tab=>{
      tab.addEventListener('click', ()=>{
        document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
        tab.classList.add('active');
        const target = tab.dataset.target;
        document.querySelectorAll('.size-table').forEach(tbl=>tbl.style.display='none');
        const el = document.getElementById(target);
        if(el) el.style.display='table';
        showToast(`Switched to ${tab.textContent.trim()} sizes`);
      });
    });

    // Vibe selector
    document.querySelectorAll('.vibe').forEach(v=>{
      v.addEventListener('click', ()=>{
        document.querySelectorAll('.vibe').forEach(x=>x.classList.remove('active'));
        v.classList.add('active');
      });
    });

    // Toast helper
    const toastEl = document.getElementById('toast');
    function showToast(msg, d=3000){
      toastEl.textContent = msg;
      toastEl.style.display = 'block';
      toastEl.classList.add('show');
      setTimeout(()=>{ toastEl.classList.remove('show'); setTimeout(()=>toastEl.style.display='none',300); }, d);
    }

    // Simple recommender logic (client-side)
    function recommendSize(){
      const h = parseInt(document.getElementById('heightInput').value,10);
      const w = parseInt(document.getElementById('weightInput').value,10);
      const bt = document.getElementById('bodyType').value;
      const product = document.getElementById('productType').value;
      const vibe = document.querySelector('.vibe.active').dataset.vibe;

      if(!h || !w){
        showToast('Please enter height and weight');
        return;
      }

      // BMI-ish
      const bmi = w / Math.pow(h/100,2);
      let size = 'M';

      // baseline by height
      if (h < 165) size = 'S';
      else if (h < 175) size = 'M';
      else if (h < 185) size = 'L';
      else size = 'XL';

      // tweak by BMI
      if (bmi < 19) {
        if(size==='L') size='M';
        else if(size==='M') size='S';
      } else if (bmi >= 28) {
        if(size==='M') size='L';
        else if(size==='L') size='XL';
      }

      // tweak by body type
      if(bt==='athletic' && size==='M') size='M';
      if(bt==='slim' && size==='M') size='S';
      if(bt==='curvy') {
        if(size==='S') size='M';
        if(size==='M') size='L';
      }

      // tweak by product type (bombers/hoodies often roomier)
      if(product==='bombers' || product==='hoodies'){
        // bump one size if the user likes layering
        if(vibe==='relaxed' || vibe==='oversize'){
          size = size === 'XXL' ? 'XXL' : nextSizeUp(size);
        }
      } else {
        // tee: oversize vibe -> up one
        if(vibe==='oversize'){
          size = nextSizeUp(size);
        } else if(vibe==='tailored'){
          // tailored: if borderline, step down
          if(bmi < 24 && h < 180) size = stepDown(size);
        }
      }

      // confidence heuristics
      let confidence = 75;
      if (bmi >= 20 && bmi < 26) confidence += 10;
      if (h > 150 && h < 200) confidence += 5;
      if (vibe==='tailored') confidence += 0;
      if (vibe==='oversize') confidence -= 3;

      if(confidence > 98) confidence = 98;

      // show
      document.getElementById('recSize').textContent = size;
      document.getElementById('confidence').textContent = `Confidence: ${Math.round(confidence)}%`;
      document.getElementById('fitAdvice').textContent = fitAdviceFor(size, vibe);
      document.getElementById('resultBox').style.display = 'block';
      showToast('Size recommended â€” see details to the right', 2600);
    }

    function nextSizeUp(s){
      const order = ['XS','S','M','L','XL','XXL'];
      const i = order.indexOf(s);
      return i === -1 || i === order.length-1 ? s : order[i+1];
    }
    function stepDown(s){
      const order = ['XS','S','M','L','XL','XXL'];
      const i = order.indexOf(s);
      return i <= 0 ? s : order[i-1];
    }

    function fitAdviceFor(size, vibe){
      const map = {
        'XS': {'tailored':'Slim â€” true to size','relaxed':'May be too tight â€” pick S','oversize':'Not recommended'},
        'S': {'tailored':'Fitted â€” true to size','relaxed':'Comfortable','oversize':'Pick M for drape'},
        'M': {'tailored':'Balanced â€” most buyers','relaxed':'Roomy enough','oversize':'Good base size'},
        'L': {'tailored':'Slightly roomy','relaxed':'Great for layering','oversize':'Perfect for oversize look'},
        'XL': {'tailored':'Relaxed tailored','relaxed':'Very comfortable','oversize':'Highly oversized'},
        'XXL': {'tailored':'Very loose','relaxed':'Max drape','oversize':'Streetwear oversized'}
      };
      return (map[size] && map[size][vibe]) || 'Standard fit â€” choose based on layering preference';
    }

    document.getElementById('recommendBtn').addEventListener('click', recommendSize);

    // helper: copy & apply
    document.getElementById('copyBtn').addEventListener('click', ()=>{
      const size = document.getElementById('recSize').textContent;
      if(!size || size === 'â€”') { showToast('No recommendation to copy'); return; }
      navigator.clipboard.writeText(`Recommended size: ${size}`);
      showToast('Recommendation copied to clipboard');
    });

    document.getElementById('applySizeBtn').addEventListener('click', ()=>{
      const size = document.getElementById('recSize').textContent;
      if(!size || size === 'â€”') { showToast('No recommendation to apply'); return; }
      // store in localStorage as last_recommended_size
      localStorage.setItem('sneh_last_recommended_size', size);
      showToast(`Saved recommendation (${size}) â€” visible in checkout`);
    });

    // Download CSV cheat-sheet (generates measurement sheet)
    document.getElementById('downloadCSV').addEventListener('click', ()=>{
      const csv = [
        ['Item','Size','Chest (cm)','Length (cm)','Shoulder (cm)'],
        ['Tee','S','97','69','43'],
        ['Tee','M','102','71','46'],
        ['Tee','L','107','74','48'],
      ].map(r=>r.join(',')).join('\n');
      const blob = new Blob([csv], {type:'text/csv'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'snehvastra-measurements.csv';
      document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
      showToast('Measurement sheet downloaded');
    });

    // Save profile (basic)
    document.getElementById('saveProfile').addEventListener('click', ()=>{
      const profile = {
        height: document.getElementById('heightInput').value || '',
        weight: document.getElementById('weightInput').value || '',
        bodyType: document.getElementById('bodyType').value,
        product: document.getElementById('productType').value,
        vibe: document.querySelector('.vibe.active').dataset.vibe
      };
      localStorage.setItem('sneh_fit_profile', JSON.stringify(profile));
      showToast('Profile saved â€” we will personalize recommendations next time');
    });

    // measurement converter simple toggle (inches/cm)
    document.getElementById('measureConvert').addEventListener('click', ()=>{
      // toggle existing tables values
      const tables = document.querySelectorAll('.size-table tbody tr');
      tables.forEach(tr=>{
        for(let i=1;i<=3;i++){
          const td = tr.children[i];
          if(!td) continue;
          const text = td.textContent.trim();
          // format "40\" / 102cm" or "102cm / 40\"". We'll convert if " / " present.
          if(text.includes('/') && text.includes('"')){
            // currently in in/cm format â€” swap to cm/in
            const parts = text.split('/').map(p=>p.trim());
            const inchPart = parts[0].replace('â€³','"').replace('â€','"').replace('in','').replace('"','').trim();
            const cmPart = parts[1].replace('cm','').trim();
            td.textContent = `${cmPart} cm / ${inchPart}â€³`;
          } else if(text.includes('cm') && text.includes('â€³')){
            // already swapped â€” return to original style (in / cm). Attempt parse
            const parts = text.split('/').map(p=>p.trim());
            const cmPart = parts[0].replace('cm','').trim();
            const inchPart = parts[1].replace('â€³','').replace('"','').trim();
            td.textContent = `${inchPart}â€³ / ${cmPart}cm`;
          } else {
            // attempt to parse "40\" / 102cm" style and convert numbers
            if(text.includes('â€³') && text.includes('cm')) {
              // ok leave as is
            }
          }
        }
      });
      showToast('Toggled in â†” cm display (check tables)');
    });

    // AUCTION TIMER (kept from site)
    const auctionDate = new Date('2025-12-01T18:00:00').getTime();
    setInterval(()=>{
      const now = Date.now();
      const diff = auctionDate - now;
      // we don't display in this page header but keep logic for consistency (used elsewhere)
      // find any auctionTimer if present
      const timer = document.getElementById('auctionTimer');
      if(!timer) return;
      if(diff>0){
        const d = Math.floor(diff/86400000);
        const h = Math.floor((diff%86400000)/3600000);
        const m = Math.floor((diff%3600000)/60000);
        const s = Math.floor((diff%60000)/1000);
        timer.textContent = `${d}d ${h}h ${m}m ${s}s`;
      } else { timer.textContent = 'LIVE NOW!'; }
    }, 1000);

    // accessibility: allow Enter to trigger recommendation
    document.querySelectorAll('#heightInput,#weightInput').forEach(el=>{
      el.addEventListener('keydown', (e)=>{
        if(e.key === 'Enter'){ recommendSize(); }
      });
    });

    // small helper functions
    function clamp(n, a, b){ return Math.max(a, Math.min(b, n)); }
  </script>
</body>
</html>
