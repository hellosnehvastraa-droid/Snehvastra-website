<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <meta name="theme-color" content="#2C1B4A"/>
  <title>Mini Cart ‚Äî Snehvastra</title>
  <meta name="description" content="Live Kota delivery calculator, NFC verified cart, auction items separated, instant checkout preview."/>

  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Clash+Display:wght@400;500;600;700;900&family=Poppins:wght@200;300;400;500;600;700&display=swap" rel="stylesheet"/>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet"/>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

  <style>
    :root{
      /* üîí SNEHVASTRA GENTLE LUXURY SYSTEM (LOCKED) */
      --amethyst:#2C1B4A; --amethyst-light:#4A377A; --amethyst-glow:#6B5ACF;
      --pearl:#F8F6F9; --ivory:#EDE8F5; --silk:#D9D2E9;
      --rose-gold:#E8B4B8; --rose-gold-dark:#D4A5AF; --sage:#A8B5A2;
      --success:#10B981; --shadow-soft:0 clamp(25px, 8vw, 35px) clamp(80px, 20vw, 140px) rgba(44,27,74,0.15); --shadow-glow:0 0 clamp(20px, 5vw, 35px) rgba(107,90,207,0.2);
      --radius:clamp(20px, 5vw, 32px); --max-width:clamp(1200px, 95vw, 1600px); --ease:cubic-bezier(0.32,0.72,0,1);
    }
    *{box-sizing:border-box;margin:0;padding:0;}
    body{font-family:'Poppins',sans-serif;background:linear-gradient(135deg,#F8F6F9 0%,#EDE8F5 50%,#D9D2E9 100%);color:var(--amethyst);overflow-x:hidden;line-height:1.8;position:relative;min-height:100vh;}

    /* üîí MOBILE LOCK HEADER - 60px FIXED */
    header{position:fixed;top:0;left:0;right:0;z-index:1000;height:clamp(56px, 15vw, 60px);background:linear-gradient(180deg,rgba(248,246,249,0.98),rgba(237,232,245,0.95));backdrop-filter:blur(40px);border-bottom:1px solid rgba(44,27,74,0.08);padding:clamp(8px, 2vw, 12px) 0;}
    .header-container{max-width:var(--max-width);margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:0 clamp(20px, 5vw, 24px);height:100%;}
    .brand{display:flex;gap:clamp(12px, 3vw, 20px);align-items:center;cursor:pointer;transition:all 0.4s var(--ease);}
    .brand:hover{transform:translateY(-2px);}
    .logo{height:clamp(40px, 11vw, 52px);border-radius:clamp(12px, 3vw, 20px);box-shadow:0 clamp(12px, 3vw, 20px) clamp(32px, 8vw, 60px) rgba(44,27,74,0.12);}
    nav ul{display:flex;gap:clamp(8px, 2vw, 12px);list-style:none;margin:0;padding:0;flex-wrap:wrap;}
    nav a{padding:clamp(12px, 3vw, 16px) clamp(20px, 5vw, 28px);border-radius:clamp(16px, 4vw, 24px);font-weight:400;color:var(--amethyst);text-decoration:none;font-size:clamp(0.875rem, 2.2vw, 0.95rem);backdrop-filter:blur(20px);transition:all 0.4s var(--ease);position:relative;white-space:nowrap;min-height:clamp(44px, 11vw, 64px);display:flex;align-items:center;}
    nav a::after{content:'';position:absolute;bottom:clamp(2px, 0.8vw, 4px);left:50%;width:0;height:2px;background:var(--rose-gold);transition:all 0.4s var(--ease);transform:translateX(-50%);}
    nav a:hover::after{width:80%;}
    nav a.active{color:var(--amethyst);font-weight:500;background:rgba(232,180,184,0.15);box-shadow:0 clamp(6px, 1.5vw, 8px) clamp(20px, 5vw, 32px) rgba(232,180,184,0.15);}

    .hamburger{display:none;background:none;border:none;font-size:clamp(1.75rem, 4.5vw, 2rem);color:var(--amethyst);cursor:pointer;padding:clamp(12px, 3vw, 16px);min-height:clamp(44px, 11vw, 64px);}
    
    @media(max-width:900px){
      .hamburger{display:block!important;}
      nav{display:none;}
      header.menu-open nav{display:block!important;position:absolute;top:100%;left:0;right:0;background:var(--pearl);backdrop-filter:blur(40px);border-top:1px solid rgba(44,27,74,0.08);padding:clamp(16px, 4vw, 20px) 0;overflow-y:auto;max-height:60vh;}
      header.menu-open nav ul{flex-direction:column;width:100%;gap:clamp(6px, 1.5vw, 8px);}
      nav a{display:block;text-align:center;width:100%;padding:clamp(20px, 5vw, 24px);border-radius:clamp(12px, 3vw, 16px);min-height:clamp(60px, 15vw, 72px);}
    }

    /* ‚úÖ MOBILE LOCK AUCTION BANNER (top:68px) */
    .auction-banner{position:fixed;top:clamp(68px, 18vw, 80px);right:clamp(16px, 4vw, 30px);z-index:900;max-width:clamp(220px, 28vw, 280px);background:linear-gradient(135deg,var(--rose-gold),var(--rose-gold-dark));color:var(--amethyst);padding:clamp(16px, 4vw, 24px) clamp(20px, 5vw, 32px);border-radius:clamp(20px, 5vw, 28px);font-family:'Clash Display',serif;font-weight:700;font-size:clamp(0.95rem, 2.5vw, 1.2rem);text-align:center;box-shadow:var(--shadow-soft);border:1px solid rgba(44,27,74,0.08);line-height:1.3;}
    .auction-timer{display:block;margin-top:clamp(6px, 1.5vw, 8px);background:rgba(255,255,255,0.9);border-radius:clamp(12px, 3vw, 16px);padding:clamp(6px, 1.5vw, 8px) clamp(10px, 2.5vw, 12px);font-weight:600;}
    @media(max-width:480px){.auction-banner{right:clamp(12px, 3vw, 16px);}}

    /* üõí PAGE HEADER */
    .page-header{max-width:var(--max-width);margin:clamp(68px, 18vw, 140px) auto clamp(40px, 10vw, 80px);padding:0 clamp(24px, 6vw, 5%);text-align:center;}
    .page-title{font-family:'Clash Display',serif;font-size:clamp(2.5rem, 8vw, 6rem);background:linear-gradient(135deg,var(--amethyst),var(--amethyst-glow));-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0 0 clamp(16px, 4vw, 24px);font-weight:900;letter-spacing:clamp(-1px, -0.3vw, -1.5px);}
    .page-subtitle{font-size:clamp(1rem, 2.8vw, 1.4rem);color:var(--amethyst);opacity:0.8;max-width:clamp(500px, 85vw, 700px);margin:0 auto clamp(24px, 6vw, 80px);line-height:1.8;}

    /* üõçÔ∏è MOBILE LOCK MINI CART CONTAINER */
    .mini-cart-container{max-width:clamp(500px, 90vw, 600px);margin:0 auto;background:var(--pearl);border-radius:var(--radius);box-shadow:var(--shadow-soft);border:1px solid rgba(44,27,74,0.08);overflow:hidden;}
    
    .cart-header{background:linear-gradient(135deg,var(--amethyst),var(--amethyst-light));padding:clamp(32px, 8vw, 48px) clamp(28px, 7vw, 40px);color:var(--pearl);text-align:center;position:relative;overflow:hidden;}
    .cart-header::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--pearl),transparent);}
    .cart-title{font-family:'Clash Display',serif;font-size:clamp(1.8rem, 5vw, 2.8rem);font-weight:900;margin:0 0 clamp(8px, 2vw, 12px);letter-spacing:clamp(-0.5px, -0.2vw, -0.8px);}
    .cart-summary{display:flex;justify-content:space-between;font-size:clamp(0.95rem, 2.5vw, 1.1rem);opacity:0.95;}

    .cart-items{max-height:clamp(400px, 50vh, 520px);overflow-y:auto;padding:clamp(32px, 8vw, 48px);}
    .cart-item{display:flex;gap:clamp(16px, 4vw, 24px);align-items:center;background:rgba(44,27,74,0.02);border:clamp(1px, 0.3vw, 2px) solid rgba(44,27,74,0.08);border-radius:clamp(20px, 5vw, 28px);padding:clamp(24px, 6vw, 32px);margin-bottom:clamp(16px, 4vw, 24px);transition:all 0.4s var(--ease);}
    @media(max-width:768px){.cart-item{flex-direction:column;gap:clamp(16px, 4vw, 20px);text-align:center;padding:clamp(24px, 6vw, 28px);}}
    .cart-item:hover{transform:translateY(-4px);box-shadow:0 clamp(16px, 4vw, 20px) clamp(48px, 12vw, 60px) rgba(44,27,74,0.2);}
    .cart-item-image{width:clamp(72px, 18vw, 96px);height:clamp(72px, 18vw, 96px);border-radius:clamp(12px, 3vw, 20px);object-fit:cover;border:clamp(1px, 0.3vw, 2px) solid rgba(44,27,74,0.15);box-shadow:0 clamp(8px, 2vw, 12px) clamp(24px, 6vw, 32px) rgba(44,27,74,0.2);flex-shrink:0;}
    @media(max-width:768px){.cart-item-image{width:clamp(64px, 16vw, 80px);height:clamp(64px, 16vw, 80px);}}
    .cart-item-details{flex:1;}
    .cart-item-name{font-family:'Clash Display',serif;font-size:clamp(1.1rem, 3vw, 1.4rem);font-weight:800;color:var(--amethyst);margin:0 0 clamp(6px, 1.5vw, 8px);line-height:1.2;}
    .cart-item-meta{font-size:clamp(0.875rem, 2.2vw, 1rem);color:var(--amethyst);opacity:0.7;margin:0 0 clamp(12px, 3vw, 16px);}
    .cart-item-price{font-family:'Clash Display',serif;font-size:clamp(1.2rem, 3.2vw, 1.6rem);font-weight:900;color:var(--rose-gold);}
    .cart-item-remove{width:clamp(44px, 11vw, 56px);height:clamp(44px, 11vw, 56px);border-radius:50%;border:none;background:rgba(220,38,69,0.1);color:#dc3545;font-size:clamp(1.2rem, 3vw, 1.4rem);font-weight:900;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all 0.4s var(--ease);flex-shrink:0;}
    @media(max-width:768px){.cart-item-remove{position:absolute;top:clamp(12px, 3vw, 20px);right:clamp(12px, 3vw, 20px);}}
    .cart-item-remove:hover{background:rgba(220,38,69,0.2);transform:scale(1.1);}

    /* üí∞ MOBILE LOCK TOTALS */
    .totals-section{padding:0 clamp(32px, 8vw, 48px) clamp(32px, 8vw, 48px);border-top:clamp(1px, 0.3vw, 2px) solid rgba(44,27,74,0.1);}
    .delivery-calculator{display:flex;gap:clamp(12px, 3vw, 16px);align-items:center;margin-bottom:clamp(24px, 6vw, 32px);padding:clamp(20px, 5vw, 24px);background:rgba(16,185,129,0.05);border-radius:clamp(16px, 4vw, 24px);border:clamp(1px, 0.3vw, 2px) solid rgba(16,185,129,0.2);}
    @media(max-width:768px){.delivery-calculator{flex-direction:column;gap:clamp(12px, 3vw, 16px);text-align:center;}}
    .delivery-label{font-weight:700;color:var(--success);font-size:clamp(0.95rem, 2.4vw, 1.1rem);}
    .delivery-select{padding:clamp(12px, 3vw, 16px) clamp(16px, 4vw, 20px);border:clamp(1px, 0.3vw, 2px) solid rgba(44,27,74,0.15);border-radius:clamp(12px, 3vw, 20px);font-weight:600;background:var(--pearl);color:var(--amethyst);min-width:clamp(120px, 30vw, 140px);}
    .delivery-eta{font-family:'Clash Display',serif;font-size:clamp(1.3rem, 3.5vw, 1.6rem);font-weight:900;color:var(--success);margin-left:auto;}
    
    .total-line{display:flex;justify-content:space-between;padding:clamp(12px, 3vw, 16px) 0;font-size:clamp(0.95rem, 2.4vw, 1.1rem);}
    .total-line strong{font-weight:700;color:var(--amethyst);}
    .total-line.total{font-size:clamp(1.2rem, 3vw, 1.4rem);border-top:clamp(1px, 0.3vw, 2px) solid rgba(44,27,74,0.1);padding-top:clamp(16px, 4vw, 24px);margin-top:clamp(12px, 3vw, 16px);}
    .total-amount{font-family:'Clash Display',serif;font-size:clamp(1.8rem, 4.5vw, 2.2rem);font-weight:900;background:linear-gradient(135deg,var(--amethyst),var(--amethyst-glow));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}

    /* üöÄ MOBILE LOCK ACTIONS */
    .cart-actions{display:grid;grid-template-columns:1fr;gap:clamp(16px, 4vw, 20px);padding:0 clamp(32px, 8vw, 48px) clamp(32px, 8vw, 48px);}
    @media(min-width:900px){.cart-actions{grid-template-columns:1fr 1fr;}}
    .cart-btn{padding:clamp(20px, 5vw, 28px) clamp(28px, 7vw, 40px);border:none;border-radius:clamp(16px, 4vw, 28px);font-family:'Clash Display',serif;font-weight:900;font-size:clamp(1rem, 2.5vw, 1.3rem);cursor:pointer;transition:all 0.4s var(--ease);display:flex;align-items:center;justify-content:center;gap:clamp(8px, 2vw, 12px);min-height:clamp(60px, 15vw, 84px);text-transform:uppercase;letter-spacing:0.3px;}
    .btn-checkout{background:linear-gradient(135deg,var(--amethyst),var(--amethyst-light));color:var(--pearl);box-shadow:0 clamp(16px, 4vw, 24px) clamp(48px, 12vw, 80px) rgba(44,27,74,0.4);}
    .btn-checkout:hover{transform:translateY(-4px);box-shadow:0 clamp(24px, 6vw, 36px) clamp(72px, 18vw, 120px) rgba(44,27,74,0.5);}
    .btn-fullcart{background:var(--pearl);color:var(--amethyst);border:clamp(1px, 0.3vw, 2px) solid rgba(44,27,74,0.2);box-shadow:0 clamp(12px, 3vw, 16px) clamp(32px, 8vw, 48px) rgba(44,27,74,0.15);}
    .btn-fullcart:hover{background:rgba(44,27,74,0.05);transform:translateY(-2px);}

    /* ‚≠ï MOBILE LOCK EMPTY STATE */
    .empty-state{text-align:center;padding:clamp(80px, 20vw, 140px) clamp(40px, 10vw, 80px);color:var(--amethyst);opacity:0.7;}
    .empty-state-icon{font-size:clamp(4rem, 10vw, 6rem);margin-bottom:clamp(20px, 5vw, 32px);}
    .empty-state-title{font-family:'Clash Display',serif;font-size:clamp(2rem, 6vw, 3.2rem);color:var(--amethyst);margin:0 0 clamp(16px, 4vw, 24px);font-weight:900;letter-spacing:clamp(-0.5px, -0.2vw, -0.8px);}
    .empty-state-subtitle{font-size:clamp(1rem, 2.8vw, 1.3rem);margin:0 0 clamp(32px, 8vw, 48px);line-height:1.7;max-width:clamp(400px, 85vw, 500px);}
    .btn-explore{padding:clamp(20px, 5vw, 28px) clamp(40px, 10vw, 56px);border-radius:clamp(20px, 5vw, 32px);background:linear-gradient(135deg,var(--amethyst),var(--amethyst-light));color:var(--pearl);font-family:'Clash Display',serif;font-weight:900;font-size:clamp(1.1rem, 2.8vw, 1.4rem);cursor:pointer;border:none;box-shadow:0 clamp(16px, 4vw, 24px) clamp(48px, 12vw, 80px) rgba(44,27,74,0.4);transition:all 0.4s var(--ease);text-transform:uppercase;letter-spacing:0.3px;}
    .btn-explore:hover{transform:translateY(-4px);box-shadow:0 clamp(24px, 6vw, 36px) clamp(72px, 18vw, 120px) rgba(44,27,74,0.5);}

    footer{padding:clamp(60px, 15vw, 140px) clamp(20px, 5vw, 5%) clamp(40px, 10vw, 80px);text-align:center;background:var(--pearl);color:var(--sage);border-top:1px solid rgba(44,27,74,0.06);font-size:clamp(0.875rem, 2.2vw, 1rem);font-weight:300;line-height:1.6;}

    #toast{position:fixed;bottom:clamp(60px, 15vw, 80px);left:50%;transform:translateX(-50%) translateY(100px);background:linear-gradient(135deg,var(--rose-gold),var(--rose-gold-dark));color:var(--amethyst);padding:clamp(16px, 4vw, 24px) clamp(28px, 7vw, 48px);border-radius:clamp(20px, 5vw, 28px);font-family:'Clash Display',serif;font-weight:800;font-size:clamp(0.95rem, 2.4vw, 1.1rem);z-index:10000;transition:all 0.6s var(--ease);max-width:clamp(90vw, 92vw, 92vw);box-shadow:var(--shadow-soft);text-align:center;}
    #toast.show{transform:translateX(-50%) translateY(0);}
  </style>
</head>
<body>
  <!-- üîí MOBILE LOCK HEADER -->
  <header>
    <div class="header-container">
      <div class="brand" onclick="location.href='index.html'">
        <img src="images/logo.final.png" class="logo" alt="Snehvastra"/>
        <div style="font-family:'Clash Display',serif;font-size:clamp(1.1rem, 2.8vw, 1.5rem);font-weight:600;color:var(--amethyst);">Snehvastra</div>
      </div>
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="collection.html">Collection</a></li>
          <li><a href="faq.html">FAQ</a></li>
          <li><a href="auction.html">Auction</a></li>
          <li><a href="mini-cart.html" class="active">Cart (<span id="cartCount">0</span>)</a></li>
          <li id="authArea"></li>
        </ul>
      </nav>
      <button class="hamburger" id="hamburger">‚ò∞</button>
    </div>
  </header>

  <!-- ‚úÖ MOBILE LOCK AUCTION BANNER -->
  <div class="auction-banner" id="auctionBanner">
    üî• SNEHVASTRA ONE AUCTION<br>
    <span class="auction-timer" id="auctionTimer">Loading...</span>
  </div>

  <!-- üõí PAGE HEADER -->
  <section class="page-header" data-aos="fade-up">
    <h1 class="page-title" data-aos="fade-up" data-aos-delay="100">Your Cart</h1>
    <p class="page-subtitle" data-aos="fade-up" data-aos-delay="200">Live Kota delivery calculator ‚Ä¢ NFC verified pieces ‚Ä¢ Collector pricing</p>
  </section>

  <!-- üõçÔ∏è MOBILE LOCK MINI CART -->
  <div class="mini-cart-container" id="miniCartContainer">
    <!-- Dynamic content loaded here -->
  </div>

  <footer data-aos="fade-up">
    ¬© <span id="year"></span> Snehvastra. Kota 2-day delivery ‚Ä¢ NFC authenticated.
  </footer>

  <div id="toast"></div>

  <script>
    // üîí BULLETPROOF MOBILE LOCK MINI-CART (NO GSAP)
    document.addEventListener('DOMContentLoaded', function() {
      initMiniCart();
    });

    function initMiniCart() {
      // üîí CORE SYSTEM - FULL LOCALSTORAGE SYNC
      const USER_KEY = "snehvastra_user"; 
      const CART_KEY = "snehvastra_cart";
      
      let cart = {};
      let user = null;
      
      try {
        cart = JSON.parse(localStorage.getItem(CART_KEY) || "{}");
        user = JSON.parse(localStorage.getItem(USER_KEY) || 'null');
      } catch(e) {
        console.log('Storage reset - mini-cart page');
        cart = {};
      }

      // üõí PRODUCT DATABASE (KOTA EDITION)
      const PRODUCT_DB = {
        "eclipse": {name:"Eclipse Hoodie",price:12999,image:"images/drop1.jpg",nfc:true},
        "bomber": {name:"Matte Bomber",price:24999,image:"images/drop2.jpg",nfc:true},
        "tee": {name:"Signature Tee",price:8999,image:"images/drop3.jpg",nfc:true},
        "snehvastra-one": {name:"Snehvastra ONE 1/1",price:125000,image:"images/logo.final.png",nfc:true,auction:true}
      };

      function money(n) {return "‚Çπ" + Math.round(Number(n)).toLocaleString("en-IN");}
      
      function showToast(msg) {
        const toast = document.getElementById("toast");
        toast.textContent = msg;
        toast.classList.add("show");
        setTimeout(() => toast.classList.remove("show"), 3500);
      }

      // üîê AUTH SYNC
      function renderAuth() {
        const authArea = document.getElementById("authArea");
        if (user && user.loggedIn) {
          authArea.innerHTML = `<span style="color:var(--rose-gold);font-weight:600;font-family:'Clash Display',serif;font-size:clamp(0.8rem, 2.2vw, 0.95rem);">${user.name}</span>`;
        } else {
          authArea.innerHTML = `<a href="user-login.html" style="padding:clamp(8px, 2vw, 12px) clamp(16px, 4vw, 28px);border:1px solid var(--rose-gold);color:var(--rose-gold);border-radius:clamp(16px, 4vw, 24px);font-weight:500;text-decoration:none;font-size:clamp(0.8rem, 2.2vw, 0.95rem);">Login</a>`;
        }
      }

      // üõí CART COUNT SYNC
      function updateCartCount() {
        const total = Object.values(cart).reduce((sum, qty) => sum + (qty || 0), 0);
        const cartCount = document.getElementById("cartCount");
        if (cartCount) cartCount.textContent = total || 0;
      }

      // üõí RENDER MINI CART (MOBILE PERFECTED)
      function renderMiniCart() {
        const entries = Object.entries(cart).filter(([id,qty]) => qty > 0);
        const container = document.getElementById("miniCartContainer");
        
        if(entries.length === 0){
          container.innerHTML = `
            <div class="empty-state" data-aos="fade-up">
              <div class="empty-state-icon">üõí</div>
              <h2 class="empty-state-title">Your Cart is Empty</h2>
              <p class="empty-state-subtitle">Discover exclusive Kota-crafted pieces with NFC authentication and collector pricing.</p>
              <button class="btn-explore" onclick="location.href='collection.html'">Explore Collection</button>
            </div>
          `;
          return;
        }

        let totalPrice = 0;
        let auctionTotal = 0;
        let standardTotal = 0;

        let html = `
          <div class="cart-header">
            <h2 class="cart-title">Your Selection</h2>
            <div class="cart-summary">
              <span>${entries.length} Items</span>
              <span id="kotaEta">Kota: 2 days</span>
            </div>
          </div>
          <div class="cart-items">
        `;

        entries.forEach(([id,qty]) => {
          const product = PRODUCT_DB[id];
          if(product){
            const lineTotal = product.price * qty;
            totalPrice += lineTotal;
            if(product.auction) auctionTotal += lineTotal;
            else standardTotal += lineTotal;
            
            html += `
              <div class="cart-item" data-id="${id}">
                <img src="${product.image}" alt="${product.name}" class="cart-item-image" onerror="this.src='images/logo.final.png'">
                <div class="cart-item-details">
                  <h4 class="cart-item-name">${product.name}</h4>
                  <p class="cart-item-meta">
                    ${product.nfc ? 'üîí NFC Verified' : ''} 
                    ${product.auction ? 'üèÜ Auction Piece' : 'Standard'}
                  </p>
                  <div class="cart-item-price">${money(product.price)} √ó ${qty}</div>
                </div>
                <button class="cart-item-remove" onclick="removeItem('${id}')">√ó</button>
              </div>
            `;
          }
        });

        html += `
          </div>
          <div class="totals-section">
            <div class="delivery-calculator">
              <span class="delivery-label">üöö Kota Delivery</span>
              <select class="delivery-select" onchange="updateEta()">
                <option value="standard">Standard (2 days)</option>
                <option value="express">Express (24hr)</option>
              </select>
              <span class="delivery-eta" id="deliveryEta">2 days</span>
            </div>
            <div class="total-line">
              <span>Standard Items</span>
              <span>${money(standardTotal)}</span>
            </div>
            ${auctionTotal > 0 ? `
              <div class="total-line">
                <span>Auction Pieces</span>
                <span>${money(auctionTotal)}</span>
              </div>
            ` : ''}
            <div class="total-line total">
              <span><strong>Total</strong></span>
              <span class="total-amount">${money(totalPrice)}</span>
            </div>
          </div>
          <div class="cart-actions">
            <button class="cart-btn btn-checkout" onclick="location.href='checkout.html'">
              üõí Secure Checkout
            </button>
            <button class="cart-btn btn-fullcart" onclick="location.href='cart.html'">
              üìã Full Cart View
            </button>
          </div>
        `;

        container.innerHTML = html;
      }

      // üóëÔ∏è REMOVE ITEM (MOBILE LOCK)
      window.removeItem = function(id) {
        delete cart[id];
        localStorage.setItem(CART_KEY, JSON.stringify(cart));
        updateCartCount();
        renderMiniCart();
        showToast("‚úÖ Item removed from cart");
      };

      // üì¶ UPDATE ETA (MOBILE LOCK)
      window.updateEta = function() {
        const select = document.querySelector('.delivery-select');
        const eta = select.value === 'express' ? '24hr' : '2 days';
        document.getElementById('deliveryEta').textContent = eta;
        document.getElementById('kotaEta').textContent = `Kota: ${eta}`;
      };

      // üçî HAMBURGER (900px breakpoint)
      document.getElementById("hamburger").addEventListener("click", function() {
        document.querySelector("header").classList.toggle("menu-open");
      });

      // ‚è∞ AUCTION TIMER
      const auctionEnd = new Date("2025-12-24T18:00:00").getTime();
      function updateAuctionTimer() {
        const now = Date.now();
        const diff = auctionEnd - now;
        const timerEl = document.getElementById("auctionTimer");
        if (diff > 0) {
          const days = Math.floor(diff / (1000*60*60*24));
          const hours = Math.floor((diff % (1000*60*60*24)) / (1000*60*60));
          timerEl.innerHTML = `${days}d ${hours.toString().padStart(2,'0')}h`;
        } else {
          timerEl.innerHTML = "LIVE NOW!";
          timerEl.parentElement.style.background = "linear-gradient(135deg, var(--amethyst), var(--amethyst-light))";
        }
      }

      // üîß MOBILE LOCK INIT
      AOS.init({duration:800, once:true, offset:100});
      renderAuth();
      updateCartCount();
      renderMiniCart();
      updateAuctionTimer();
      setInterval(updateAuctionTimer, 30000);
      document.getElementById("year").textContent = new Date().getFullYear();
    }
  </script>
</body>
</html>
